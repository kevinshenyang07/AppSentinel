{"version":3,"sources":["webpack:///webpack/bootstrap 0965d96a562bf13086c7","webpack:///./lib/main.js","webpack:///./lib/ticking_numbers.js","webpack:///./lib/active_users.js","webpack:///./lib/channels.js","webpack:///./lib/geo.js","webpack:///./lib/reviews.js","webpack:///./lib/rating.js"],"names":["formatDollar","d3","format","formatNumber","monthlyRevenue","monthlyDownloads","document","getElementById","innerHTML","tick","initVal","Math","random","displayTickingNumbers","interval","setInterval","$","on","clearInterval","generateActiveUserNumbers","base","time","floor","generate","data","id","axisNum","parseTime","timeParse","margin","top","right","bottom","left","width","height","ddata","map","ele","i","x","scaleTime","range","domain","extent","d","yRange","y","scaleLinear","xAxis","axisBottom","ticks","timeMinute","every","length","tickSize","tickPadding","yAxis","axisLeft","tickFormat","area","curve","curveCardinal","y0","y1","select","remove","svg","append","attr","call","path","datum","points","selectAll","enter","legendSize","legendColor","legend","style","text","console","log","transition","duration","tooltip","axisOpt","svgAttr","redraw","ease","easeSin","exit","displayActiveUsers","minutes","activeUserData","m","categories","hAxis","mAxis","sca","push","Object","keys","shift","channelData","channel","platform","iOS","Android","Desktop","createView","dimension","pieChart","histogram","pieDim","radius","min","colors","bar","forEach","total","createPieChart","pData","pC","arc","outerRadius","innerRadius","pie","sort","value","each","_current","type","mouseover","mouseout","update","nD","attrTween","arcTween","c","a","interpolateObject","t","createHistogram","byChannelData","hG","histDim","scaleBand","rangeRound","padding","max","bars","bandwidth","singleChannelData","filter","s","totalByPlatform","color","newBars","createLegend","lData","leg","getLegend","aD","sum","tr","rows","p","totalByChannel","displayChannels","usersByState","state","paid","createHBars","b","parseInt","tickSizeInner","event","pageX","pageY","html","displayGeoDist","sampleReviews","user","body","createReviews","ready","pEle","updateReviews","reviews","content","displayReviews","degToRad","deg","PI","generateData","newarcsdata","newneedledata","randomUniform","CreateGauge","r","reverse","angleScale","padAngle","startAngle","endAngle","arcs","needle","classed","join","easeElasticOut","displayRating"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6B;;;;;;;;;;;;ACZA,IAAMA,eAAeC,GAAGC,MAAH,CAAU,QAAV,CAArB;AACA,IAAMC,eAAeF,GAAGC,MAAH,CAAU,MAAV,CAArB;;AAEA,IAAIE,iBAAiB,OAArB;AACA,IAAIC,mBAAmB,KAAvB;AACAC,SAASC,cAAT,CAAwB,iBAAxB,EAA2CC,SAA3C,GACIR,aAAaI,cAAb,CADJ;AAEAE,SAASC,cAAT,CAAwB,mBAAxB,EAA6CC,SAA7C,GACIL,aAAaE,gBAAb,CADJ;;AAGA,IAAMI,OAAO,SAAPA,IAAO,CAACC,OAAD,EAAa;AACxB,SAAOA,UAAUC,KAAKC,MAAL,MAAiBF,UAAU,IAA3B,CAAjB;AACD,CAFD;;AAIO,IAAMG,wDAAwB,SAAxBA,qBAAwB,GAAM;AACzC,MAAMC,WAAWC,YAAY,YAAW;AACtCX,qBAAiBK,KAAKL,cAAL,EAAqB,iBAArB,CAAjB;AACAE,aAASC,cAAT,CAAwB,iBAAxB,EAA2CC,SAA3C,GACIR,aAAaI,cAAb,CADJ;AAEAC,uBAAmBI,KAAKJ,gBAAL,EAAuB,mBAAvB,CAAnB;AACAC,aAASC,cAAT,CAAwB,mBAAxB,EAA6CC,SAA7C,GACIL,aAAaE,gBAAb,CADJ;AAED,GAPgB,EAOd,IAPc,CAAjB;;AASAW,IAAE,iBAAF,EAAqBC,EAArB,CAAwB,QAAxB,EAAkC;AAAA,WAAMC,cAAcJ,QAAd,CAAN;AAAA,GAAlC;AACD,CAXM,C;;;;;;;;;;;;ACdP,IAAMK,4BAA4B,SAA5BA,yBAA4B,OAAQ;AACxC,QAAMC,OAAO,KAAb;AACA,WAAO;AACL,gBAAQC,IADH;AAEL,eAAOV,KAAKW,KAAL,CAAWF,QAAQ,IAAI,CAACT,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,IAApC,CAAX,CAFF;AAGL,eAAOD,KAAKW,KAAL,CAAWF,OAAO,CAAP,IAAY,IAAI,CAACT,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,IAAxC,CAAX,CAHF;AAIL,eAAOD,KAAKW,KAAL,CAAWF,OAAO,CAAP,IAAY,IAAI,CAACT,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,IAAxC,CAAX;AAJF,KAAP;AAMD,CARD;;AAUA,IAAMW,WAAW,SAAXA,QAAW,CAACC,IAAD,EAAOC,EAAP,EAAWC,OAAX,EAAuB;;AAEtC;AACA,QAAMC,YAAY1B,GAAG2B,SAAH,CAAa,OAAb,CAAlB;AACA,QAAMzB,eAAeF,GAAGC,MAAH,CAAU,KAAV,CAArB;;AAEA;AACA,QAAM2B,SAAS,EAAEC,KAAK,EAAP,EAAWC,OAAO,EAAlB,EAAsBC,QAAQ,EAA9B,EAAkCC,MAAM,EAAxC,EAAf;AACA,QAAMC,QAAQlB,EAAES,EAAF,EAAMS,KAAN,KAAgBL,OAAOI,IAAvB,GAA8BJ,OAAOE,KAAnD;AACA,QAAMI,SAASnB,EAAES,EAAF,EAAMU,MAAN,KAAiBN,OAAOC,GAAxB,GAA8BD,OAAOG,MAApD;;AAEA;AACA,QAAMI,QAAQZ,KAAKa,GAAL,CAAS,UAACC,GAAD,EAAMC,CAAN;AAAA,eAAa;AAClC,oBAAQZ,UAAUW,IAAI,MAAJ,CAAV,CAD0B;AAElC,mBAAOA,IAAI,KAAJ,CAF2B;AAGlC,mBAAOA,IAAI,KAAJ,CAH2B;AAIlC,mBAAOA,IAAI,KAAJ;AAJ2B,SAAb;AAAA,KAAT,CAAd;;AAOA;AACA,QAAME,IAAIvC,GAAGwC,SAAH,GAAeC,KAAf,CAAqB,CAAC,CAAD,EAAIR,KAAJ,CAArB,EACGS,MADH,CACU1C,GAAG2C,MAAH,CAAUR,KAAV,EAAiB;AAAA,eAAKS,EAAExB,IAAP;AAAA,KAAjB,CADV,CAAV;AAEM;AACN,QAAMyB,SAAS7C,GAAG2C,MAAH,CAAUR,KAAV,EAAiB;AAAA,eAAKS,EAAE,KAAF,CAAL;AAAA,KAAjB,CAAf;AACA,QAAME,IAAI9C,GAAG+C,WAAH,GAAiBN,KAAjB,CAAuB,CAACP,MAAD,EAAS,CAAT,CAAvB,EACGQ,MADH,CACU,CAACG,OAAO,CAAP,IAAY,CAAb,EAAgBA,OAAO,CAAP,IAAY,GAA5B,CADV,CAAV;;AAGA;AACA,QAAMG,QAAQhD,GAAGiD,UAAH,CAAcV,CAAd,EACTW,KADS,CACHlD,GAAGmD,UAAH,CAAcC,KAAd,CAAoB1C,KAAKW,KAAL,CAAWE,KAAK8B,MAAL,GAAc5B,OAAzB,CAApB,CADG,EAET6B,QAFS,CAEA,CAACpB,MAFD,EAGTqB,WAHS,CAGG,CAAC,CAAD,CAHH,CAAd;;AAKA,QAAMC,QAAQxD,GAAGyD,QAAH,CAAYX,CAAZ,EACTI,KADS,CACH,EADG,EAETI,QAFS,CAEA,CAACrB,KAFD,EAGTyB,UAHS,CAGExD,YAHF,CAAd;;AAKA;AACA,QAAMyD,OAAO3D,GAAG2D,IAAH,GACRC,KADQ,CACF5D,GAAG6D,aADD,EAERtB,CAFQ,CAEN;AAAA,eAAKA,EAAEK,EAAExB,IAAJ,CAAL;AAAA,KAFM,EAGR0C,EAHQ,CAGL5B,MAHK,EAIR6B,EAJQ,CAIL;AAAA,eAAKjB,EAAEF,EAAE,KAAF,CAAF,CAAL;AAAA,KAJK,CAAb;;AAMA;AACA5C,OAAGgE,MAAH,CAAU,eAAV,EAA2BC,MAA3B;;AAEA;AACA,QAAMC,MAAMlE,GAAGgE,MAAH,CAAUxC,EAAV,EAAc2C,MAAd,CAAqB,KAArB,EACPC,IADO,CACF,IADE,EACI,kBADJ,EAEPA,IAFO,CAEF,OAFE,EAEOnC,QAAQL,OAAOE,KAAf,GAAuBF,OAAOI,IAFrC,EAGPoC,IAHO,CAGF,QAHE,EAGQlC,SAASN,OAAOC,GAAhB,GAAsBD,OAAOG,MAHrC,EAIPoC,MAJO,CAIA,GAJA,EAKPC,IALO,CAKF,WALE,EAKW,eAAexC,OAAOI,IAAtB,GAA6B,GAA7B,GAAmCJ,OAAOC,GAA1C,GAAgD,GAL3D,CAAZ;;AAOAqC,QAAIC,MAAJ,CAAW,GAAX,EACIC,IADJ,CACS,OADT,EACkB,QADlB,EAEIA,IAFJ,CAES,IAFT,EAEe,qBAFf,EAGIA,IAHJ,CAGS,WAHT,EAGsB,iBAAiBlC,MAAjB,GAA0B,GAHhD,EAIImC,IAJJ,CAISrB,KAJT;;AAMAkB,QAAIC,MAAJ,CAAW,GAAX,EACIC,IADJ,CACS,OADT,EACkB,QADlB,EAEIC,IAFJ,CAESb,KAFT;;AAIA,QAAMc,OAAOJ,IAAIC,MAAJ,CAAW,UAAX,EACRI,KADQ,CACFpC,KADE,EAERiC,IAFQ,CAEH,OAFG,EAEM,OAFN,EAGRA,IAHQ,CAGH,GAHG,EAGET,IAHF,CAAb;;AAKA,QAAMa,SAASN,IAAIO,SAAJ,CAAc,UAAd,EACVlD,IADU,CACLY,KADK,EAEVuC,KAFU,GAEFP,MAFE,CAEK,GAFL,EAGVC,IAHU,CAGL,OAHK,EAGI,SAHJ,CAAf;;AAKA;AACA,QAAMO,aAAa,CAAnB;AACA,QAAMC,cAAc,wBAApB;;AAEA,QAAMC,SAASX,IAAIC,MAAJ,CAAW,GAAX,EACVC,IADU,CACL,OADK,EACI,QADJ,EAEVA,IAFU,CAEL,WAFK,EAGT,kBAAkBlC,SAASN,OAAOG,MAAhB,GAAyB4C,UAA3C,IAAwD,GAH/C,CAAf;;AAMAE,WAAOV,MAAP,CAAc,MAAd,EACKC,IADL,CACU,OADV,EACmBO,UADnB,EAEKP,IAFL,CAEU,QAFV,EAEoBO,UAFpB,EAGKP,IAHL,CAGU,WAHV,EAGuB,kBAHvB,EAIKU,KAJL,CAIW,MAJX,EAImBF,WAJnB;;AAMAC,WAAOV,MAAP,CAAc,MAAd,EACK5C,IADL,CACUY,KADV,EAEKiC,IAFL,CAEU,GAFV,EAEeO,aAAa,GAF5B,EAGKP,IAHL,CAGU,GAHV,EAGeO,aAAa,CAH5B,EAIKI,IAJL,CAIU,oBAJV;;AAMAP,WAAOC,SAAP,CAAiB,gBAAjB,EACKlD,IADL,CACUY,KADV,EAEKuC,KAFL,GAEaP,MAFb,CAEoB,QAFpB,EAGKC,IAHL,CAGU,OAHV,EAGmB,eAHnB,EAIKA,IAJL,CAIU,IAJV,EAIgB;AAAA,eAAK7B,EAAEK,EAAExB,IAAJ,CAAL;AAAA,KAJhB,EAKKgD,IALL,CAKU,IALV,EAKgB;AAAA,eAAKtB,EAAEF,EAAE,KAAF,CAAF,CAAL;AAAA,KALhB,EAMKwB,IANL,CAMU,GANV,EAMe,KANf,EAOKpD,EAPL,CAOQ,WAPR,EAOqB,UAAU4B,CAAV,EAAa;AAC5BoC,gBAAQC,GAAR,CAAY,IAAZ;;AAEA;;AAEAf,YAAIC,MAAJ,CAAW,GAAX,EACKC,IADL,CACU,OADV,EACmB,QADnB,EAEKD,MAFL,CAEY,MAFZ,EAGKC,IAHL,CAGU,OAHV,EAGmB,QAHnB,EAIKc,UAJL,GAKKC,QALL,CAKc,EALd,EAMKf,IANL,CAMU,IANV,EAMgB7B,EAAEK,EAAE,MAAF,CAAF,CANhB,EAOKwB,IAPL,CAOU,IAPV,EAOgB7B,EAAEK,EAAE,MAAF,CAAF,CAPhB,EAQKwB,IARL,CAQU,IARV,EAQgBlC,MARhB;;AAUAgC,YAAIC,MAAJ,CAAW,UAAX,EAA4B;AAA5B,SACKC,IADL,CACU,OADV,EACmB,QADnB,EAC8B;AAD9B,SAEKU,KAFL,CAEW,MAFX,EAEmB,OAFnB,EAEgC;AAFhC,SAGKV,IAHL,CAGU,QAHV,EAGqB7B,EAAEK,EAAE,MAAF,CAAF,IAAa,GAAd,GAAmB,GAAnB,IAAwBE,EAAE,CAAF,IAAK,GAA7B,IAAkC,GAAlC,GAAsCP,EAAEK,EAAE,MAAF,CAAF,CAAtC,GAAmD,GAAnD,IAAwDE,EAAE,CAAF,IAAK,CAA7D,IAAgE,GAAhE,IAAqEP,EAAEK,EAAE,MAAF,CAAF,IAAa,GAAlF,IAAuF,GAAvF,IAA4FE,EAAE,CAAF,IAAK,GAAjG,CAHpB;;AAKAoB,YAAIC,MAAJ,CAAW,UAAX,EAA4B;AAA5B,SACKC,IADL,CACU,OADV,EACmB,QADnB,EAC8B;AAD9B,SAEKU,KAFL,CAEW,MAFX,EAEmB,OAFnB,EAEgC;AAFhC,SAGKV,IAHL,CAGU,QAHV,EAGqB7B,EAAEK,EAAE,MAAF,CAAF,IAAa,GAAd,GAAmB,GAAnB,IAAwBE,EAAE,CAAF,IAAK,GAA7B,IAAkC,GAAlC,GAAsCP,EAAEK,EAAE,MAAF,CAAF,CAAtC,GAAmD,GAAnD,IAAwDE,EAAE,CAAF,IAAK,CAA7D,IAAgE,GAAhE,IAAqEP,EAAEK,EAAE,MAAF,CAAF,IAAa,GAAlF,IAAuF,GAAvF,IAA4FE,EAAE,CAAF,IAAK,GAAjG,CAHpB;;AAKA/B,UAAE,IAAF,EAAQqE,OAAR,CAAgB;AACd,yBAAa,MADC;AAEd,yBAAa,MAFC;AAGd,qBAAS,wBAAwBlF,aAAa0C,EAAE,KAAF,CAAb,CAHnB;AAId,uBAAW;AAJG,SAAhB,EAKGwC,OALH,CAKW,MALX;AAMD,KAtCL,EAuCKpE,EAvCL,CAuCQ,UAvCR,EAuCqB,UAAU4B,CAAV,EAAa;AAC5B;;AAEA5C,WAAGyE,SAAH,CAAa,SAAb,EAAwBS,UAAxB,GAAqCC,QAArC,CAA8C,GAA9C,EAAmDlB,MAAnD;;AAEAlD,UAAE,IAAF,EAAQqE,OAAR,CAAgB,SAAhB;AACD,KA7CL;;AA+CA,QAAMC,UAAU,EAAE9C,IAAF,EAAKO,IAAL,EAAQE,YAAR,EAAef,YAAf,EAAsBC,cAAtB,EAAhB;AACA,QAAMoD,UAAU,EAAEpB,QAAF,EAAOM,cAAP,EAAeb,UAAf,EAAqBW,UAArB,EAAhB;;AAEA,WAAO,EAAEe,gBAAF,EAAWC,gBAAX,EAAP;AACD,CArJD;;AAuJA,IAAMC,SAAS,SAATA,MAAS,CAAChE,IAAD,EAAOC,EAAP,EAAWe,CAAX,EAAcO,CAAd,EAAiBE,KAAjB,EAAwBkB,GAAxB,EAA6BP,IAA7B,EAAmCW,IAAnC,EAAyCE,MAAzC,EAAiDtC,MAAjD,EAAyDT,OAAzD,EAAqE;AAClF;AACA,QAAIC,YAAY1B,GAAG2B,SAAH,CAAa,OAAb,CAAhB;AACA,QAAIzB,eAAeF,GAAGC,MAAH,CAAU,KAAV,CAAnB;;AAEA,QAAMkC,QAAQZ,KAAKa,GAAL,CAAS,UAACC,GAAD,EAAMC,CAAN;AAAA,eAAa;AAClC,oBAAQZ,UAAUW,IAAI,MAAJ,CAAV,CAD0B;AAElC,mBAAOA,IAAI,KAAJ,CAF2B;AAGlC,mBAAOA,IAAI,KAAJ,CAH2B;AAIlC,mBAAOA,IAAI,KAAJ;AAJ2B,SAAb;AAAA,KAAT,CAAd;;AAOAE,MAAEG,MAAF,CAAS1C,GAAG2C,MAAH,CAAUR,KAAV,EAAiB;AAAA,eAAKS,EAAExB,IAAP;AAAA,KAAjB,CAAT;;AAEA4B,UAAME,KAAN,CAAYlD,GAAGmD,UAAH,CAAcC,KAAd,CAAoB1C,KAAKW,KAAL,CAAWE,KAAK8B,MAAL,GAAc5B,OAAzB,CAApB,CAAZ;;AAEAyC,QAAIF,MAAJ,CAAW,sBAAX,EACKkB,UADL,GAEKC,QAFL,CAEc,GAFd,EAGKK,IAHL,CAGUxF,GAAGyF,OAHb,EAIKpB,IAJL,CAIUrB,KAJV;;AAMA;AACAsB,SAAKC,KAAL,CAAWpC,KAAX,EACK+C,UADL,GAEKC,QAFL,CAEc,GAFd,EAGKf,IAHL,CAGU,OAHV,EAGmB,OAHnB,EAIKA,IAJL,CAIU,GAJV,EAIeT,IAJf;;AAMA;AACAa,WAAOC,SAAP,CAAiB,gBAAjB,EACKlD,IADL,CACUY,KADV,EAEKiC,IAFL,CAEU,OAFV,EAEmB,eAFnB,EAGKA,IAHL,CAGU,IAHV,EAGgB;AAAA,eAAK7B,EAAEK,EAAExB,IAAJ,CAAL;AAAA,KAHhB,EAIKgD,IAJL,CAIU,IAJV,EAIgB;AAAA,eAAKtB,EAAEF,EAAE,KAAF,CAAF,CAAL;AAAA,KAJhB,EAKKwB,IALL,CAKU,GALV,EAKe,KALf;;AAOA;AACAI,WAAOC,SAAP,CAAiB,gBAAjB,EACKlD,IADL,CACUY,KADV,EAEKuC,KAFL,GAEaP,MAFb,CAEoB,QAFpB,EAGKC,IAHL,CAGU,OAHV,EAGmB,eAHnB,EAIKA,IAJL,CAIU,IAJV,EAIgB;AAAA,eAAK7B,EAAEK,EAAExB,IAAJ,CAAL;AAAA,KAJhB,EAKKgD,IALL,CAKU,IALV,EAKgB;AAAA,eAAKtB,EAAEF,EAAE,KAAF,CAAF,CAAL;AAAA,KALhB,EAMKwB,IANL,CAMU,GANV,EAMe,KANf;;AAQA;AACAI,WAAOC,SAAP,CAAiB,gBAAjB,EACKlD,IADL,CACUY,KADV,EAEKuD,IAFL,GAGKR,UAHL,GAIKC,QAJL,CAIc,GAJd,EAKKlB,MALL;AAMD,CArDD;;AAuDA;AACO,IAAM0B,kDAAqB,SAArBA,kBAAqB,GAAM;AACtC,QAAMC,UAAU,CAAC,OAAD,EAAU,OAAV,EAAmB,OAAnB,EAA4B,OAA5B,EACd,OADc,EACL,OADK,EACI,OADJ,EACa,OADb,EACsB,OADtB,CAAhB;;AAGA,QAAMC,iBAAiBD,QAAQxD,GAAR,CAAY;AAAA,eAAKlB,0BAA0B4E,CAA1B,CAAL;AAAA,KAAZ,CAAvB;;AAEA,QAAMC,aAAa,CAAC,oBAAD,EAAuB,qBAAvB,EACjB,sBADiB,CAAnB;;AAGA,QAAIC,QAAQ,EAAZ;AACA,QAAIC,QAAQ,EAAZ;;AAEA,QAAMzE,KAAK,eAAX;AACA,QAAM0E,MAAM,IAAI5E,QAAJ,CAAauE,cAAb,EAA6BrE,EAA7B,EAAiC,CAAjC,CAAZ;;AAEA,QAAMX,WAAWC,YAAY,YAAM;AACjC;AACA+E,uBAAeM,IAAf,CAAoBjF,0BAA0B8E,QAAQ,GAAR,GAAcC,KAAxC,CAApB;;AAEA,YAAGA,UAAU,EAAb,EAAiB;AACfD;AACAC,oBAAM,CAAN;AACD,SAHD,MAIK;AACHA;AACD;;AAED,YAAIG,OAAOC,IAAP,CAAYR,cAAZ,EAA4BxC,MAA5B,KAAuC,EAA3C,EAA+CwC,eAAeS,KAAf;;AAE/Cf,eACEM,cADF,EACkB,eADlB,EACmCK,IAAIb,OAAJ,CAAY,GAAZ,CADnC,EACqDa,IAAIb,OAAJ,CAAY,GAAZ,CADrD,EAEEa,IAAIb,OAAJ,CAAY,OAAZ,CAFF,EAEwBa,IAAIZ,OAAJ,CAAY,KAAZ,CAFxB,EAE4CY,IAAIZ,OAAJ,CAAY,MAAZ,CAF5C,EAGEY,IAAIZ,OAAJ,CAAY,MAAZ,CAHF,EAGuBY,IAAIZ,OAAJ,CAAY,QAAZ,CAHvB,EAG8CY,IAAIb,OAAJ,CAAY,QAAZ,CAH9C,EAGqE,CAHrE;;AAMA;AACD,KArBgB,EAqBd,IArBc,CAAjB;;AAuBAtE,MAAES,EAAF,EAAMR,EAAN,CAAS,QAAT,EAAmB;AAAA,eAAMC,cAAcJ,QAAd,CAAN;AAAA,KAAnB;AACD,CAvCM,C;;;;;;;;;;;;ACzNP,IAAM0F,cAAc,CAClB,EAAEC,SAAS,SAAX,EAAsBC,UAAU,EAAEC,KAAK,KAAP,EAAcC,SAAS,KAAvB,EAA8BC,SAAS,IAAvC,EAAhC,EADkB,EAElB,EAAEJ,SAAS,QAAX,EAAqBC,UAAU,EAAEC,KAAK,IAAP,EAAaC,SAAS,IAAtB,EAA4BC,SAAS,IAArC,EAA/B,EAFkB,EAGlB,EAAEJ,SAAS,IAAX,EAAiBC,UAAU,EAAEC,KAAK,IAAP,EAAaC,SAAS,IAAtB,EAA4BC,SAAS,IAArC,EAA3B,EAHkB,EAIlB,EAAEJ,SAAS,OAAX,EAAoBC,UAAU,EAAEC,KAAK,IAAP,EAAaC,SAAS,IAAtB,EAA4BC,SAAS,GAArC,EAA9B,EAJkB,EAKlB,EAAEJ,SAAS,OAAX,EAAoBC,UAAU,EAAEC,KAAK,GAAP,EAAYC,SAAS,GAArB,EAA0BC,SAAS,IAAnC,EAA9B,EALkB,EAMlB,EAAEJ,SAAS,UAAX,EAAuBC,UAAU,EAAEC,KAAK,IAAP,EAAaC,SAAS,GAAtB,EAA2BC,SAAS,GAApC,EAAjC,EANkB,CAApB;;AASA,IAAMC,aAAa,SAAbA,UAAa,CAACrF,EAAD,EAAKD,IAAL,EAAc;AAC/B;AACA,MAAMK,SAAS,EAAEC,KAAK,EAAP,EAAWC,OAAO,CAAlB,EAAqBC,QAAQ,EAA7B,EAAiCC,MAAM,CAAvC,EAAf;AACA,MAAMC,QAAQlB,EAAES,EAAF,EAAMS,KAAN,KAAgBL,OAAOE,KAAvB,GAA+BF,OAAOI,IAApD;AACA,MAAME,SAASnB,EAAES,EAAF,EAAMU,MAAN,KAAiBN,OAAOC,GAAxB,GAA8BD,OAAOG,MAApD;AACA,MAAM+E,YAAY;AAChBC,cAAU;AACR9E,aAAOC,MADC;AAERA;AAFQ,KADM;AAKhB8E,eAAW;AACT/E,aAAO,GADE;AAETC;AAFS;AALK,GAAlB;AAUA,MAAM+E,SAASH,UAAUC,QAAzB;AACAE,SAAOC,MAAP,GAAgBxG,KAAKyG,GAAL,CAASF,OAAOhF,KAAhB,EAAuBgF,OAAO/E,MAA9B,IAAwC,CAAxD;AACA;AACA,MAAMkF,SAAS,EAAEC,KAAK,MAAP,EAAeX,KAAK,SAApB,EAA+BC,SAAS,SAAxC;AACbC,aAAS,SADI,EAAf;AAEA;AACArF,OAAK+F,OAAL,CAAa,aAAK;AAAE1E,MAAE2E,KAAF,GAAU3E,EAAE6D,QAAF,CAAWC,GAAX,GAAiB9D,EAAE6D,QAAF,CAAWE,OAA5B,GAC1B/D,EAAE6D,QAAF,CAAWG,OADK;AACK,GADzB;;AAGA;AACA,MAAMY,iBAAiB,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AAChC,QAAMC,KAAK,EAAX;AACA,QAAMxD,MAAMlE,GAAGgE,MAAH,CAAU,gBAAV,EAA4BG,MAA5B,CAAmC,KAAnC,EACDC,IADC,CACI,OADJ,EACa6C,OAAOhF,KADpB,EAEDmC,IAFC,CAEI,QAFJ,EAEc6C,OAAO/E,MAFrB,EAGDiC,MAHC,CAGM,GAHN,EAIDC,IAJC,CAII,WAJJ,EAIiB,eAAe6C,OAAOhF,KAAP,GAAe,CAA9B,GAAkC,GAAlC,GACfgF,OAAO/E,MAAP,GAAgB,CADD,GACK,GALtB,CAAZ;;AAOA,QAAMyF,MAAM3H,GAAG2H,GAAH,GAASC,WAAT,CAAqBX,OAAOC,MAAP,GAAgB,EAArC,EAAyCW,WAAzC,CAAqD,CAArD,CAAZ;AACA,QAAMC,MAAM9H,GAAG8H,GAAH,GAASC,IAAT,CAAc,IAAd,EAAoBC,KAApB,CAA0B;AAAA,aAAKpF,EAAE6D,QAAP;AAAA,KAA1B,CAAZ;;AAEAvC,QAAIO,SAAJ,CAAc,MAAd,EAAsBlD,IAAtB,CAA2BuG,IAAIL,KAAJ,CAA3B,EACI/C,KADJ,GACYP,MADZ,CACmB,MADnB,EAEIC,IAFJ,CAES,GAFT,EAEcuD,GAFd,EAGIM,IAHJ,CAGS,UAASrF,CAAT,EAAY;AAAE,WAAKsF,QAAL,GAAgBtF,CAAhB;AAAoB,KAH3C,EAIIkC,KAJJ,CAIU,MAJV,EAIkB;AAAA,aAAKsC,OAAOxE,EAAErB,IAAF,CAAO4G,IAAd,CAAL;AAAA,KAJlB,EAKInH,EALJ,CAKO,WALP,EAKoBoH,SALpB,EAMIpH,EANJ,CAMO,UANP,EAMmBqH,QANnB;;AAQAX,OAAGY,MAAH,GAAY,cAAM;AAChBpE,UAAIO,SAAJ,CAAc,MAAd,EAAsBlD,IAAtB,CAA2BuG,IAAIS,EAAJ,CAA3B,EACIrD,UADJ,GACiBC,QADjB,CAC0B,GAD1B,EAEIqD,SAFJ,CAEc,GAFd,EAEmBC,QAFnB;AAGD,KAJD;;AAMA,aAASL,SAAT,CAAmBxF,CAAnB,EAAsB;AACpB;AACA,UAAM2F,KAAKhH,KAAKa,GAAL,CAAS;AAAA,eAAK,CAACsG,EAAElC,OAAH,EAAYkC,EAAEjC,QAAF,CAAW7D,EAAErB,IAAF,CAAO4G,IAAlB,CAAZ,CAAL;AAAA,OAAT,CAAX;AACAnB,gBAAUsB,MAAV,CAAiBC,EAAjB,EAAqBnB,OAAOxE,EAAErB,IAAF,CAAO4G,IAAd,CAArB;AACD;AACQ;AACT,aAASE,QAAT,CAAkBzF,CAAlB,EAAqB;AACnB;AACAoE,gBAAUsB,MAAV,CAAiB/G,KAAKa,GAAL,CAAS;AAAA,eAAK,CAACsG,EAAElC,OAAH,EAAYkC,EAAEnB,KAAd,CAAL;AAAA,OAAT,CAAjB,EAAsDH,OAAOC,GAA7D;AACD;;AAED,aAASoB,QAAT,CAAkBE,CAAlB,EAAqB;AACnB,UAAMrG,IAAItC,GAAG4I,iBAAH,CAAqB,KAAKV,QAA1B,EAAoCS,CAApC,CAAV;AACA,WAAKT,QAAL,GAAgB5F,EAAE,CAAF,CAAhB;AACA,aAAO;AAAA,eAAKqF,IAAIrF,EAAEuG,CAAF,CAAJ,CAAL;AAAA,OAAP;AACD;;AAED,WAAOnB,EAAP;AACD,GA5CD;;AA+CA;AACA,MAAMoB,kBAAkB,SAAlBA,eAAkB,CAACC,aAAD,EAAmB;AACzC,QAAMC,KAAK,EAAX;AACA,QAAMC,UAAUnC,UAAUE,SAA1B;;AAEA,QAAM9C,MAAMlE,GAAGgE,MAAH,CAAU,iBAAV,EAA6BG,MAA7B,CAAoC,KAApC,EACPC,IADO,CACF,OADE,EACO6E,QAAQhH,KAAR,GAAgBL,OAAOI,IAAvB,GAA8BJ,OAAOE,KAD5C,EAEPsC,IAFO,CAEF,QAFE,EAEQ6E,QAAQ/G,MAAR,GAAiBN,OAAOC,GAAxB,GAA8BD,OAAOG,MAF7C,EAGPoC,MAHO,CAGA,GAHA,EAIPC,IAJO,CAIF,WAJE,EAIW,eAAexC,OAAOI,IAAtB,GAA6B,GAA7B,IAAoCJ,OAAOC,GAAP,GAAa,EAAjD,IAAuD,GAJlE,CAAZ;;AAMA,QAAMU,IAAIvC,GAAGkJ,SAAH,GACDC,UADC,CACU,CAAC,CAAD,EAAIF,QAAQhH,KAAZ,CADV,EAC8BmH,OAD9B,CACsC,GADtC,EAED1G,MAFC,CAEMqG,cAAc3G,GAAd,CAAkB;AAAA,aAAKQ,EAAE,CAAF,CAAL;AAAA,KAAlB,CAFN,CAAV;;AAIA,QAAME,IAAI9C,GAAG+C,WAAH,GACDN,KADC,CACK,CAACwG,QAAQ/G,MAAT,EAAiB,CAAjB,CADL,EAEDQ,MAFC,CAEM,CAAC,CAAD,EAAI1C,GAAGqJ,GAAH,CAAON,aAAP,EAAsB;AAAA,aAAKnG,EAAE,CAAF,CAAL;AAAA,KAAtB,CAAJ,CAFN,CAAV;;AAIA,QAAMI,QAAQhD,GAAGiD,UAAH,CAAcV,CAAd,CAAd;;AAEA2B,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,OAArB,EAA8B,QAA9B,EACIA,IADJ,CACS,WADT,EACsB,iBAAiB6E,QAAQ/G,MAAzB,GAAkC,GADxD,EAEImC,IAFJ,CAESrB,KAFT;;AAIA,QAAMsG,OAAOpF,IAAIO,SAAJ,CAAc,MAAd,EACIlD,IADJ,CACSwH,aADT,EACwBrE,KADxB,GAEIP,MAFJ,CAEW,GAFX,EAGIC,IAHJ,CAGS,OAHT,EAGkB,KAHlB,CAAb;;AAKAkF,SAAKnF,MAAL,CAAY,MAAZ,EACKC,IADL,CACU,GADV,EACe;AAAA,aAAK7B,EAAEK,EAAE,CAAF,CAAF,CAAL;AAAA,KADf,EAEKwB,IAFL,CAEU,GAFV,EAEe;AAAA,aAAKtB,EAAEF,EAAE,CAAF,CAAF,CAAL;AAAA,KAFf,EAGKwB,IAHL,CAGU,OAHV,EAGmB7B,EAAEgH,SAAF,EAHnB,EAIKnF,IAJL,CAIU,QAJV,EAIoB;AAAA,aAAK6E,QAAQ/G,MAAR,GAAiBY,EAAEF,EAAE,CAAF,CAAF,CAAtB;AAAA,KAJpB,EAKKwB,IALL,CAKU,MALV,EAKkBgD,OAAOC,GALzB,EAMKrG,EANL,CAMQ,WANR,EAMqBoH,SANrB,EAOKpH,EAPL,CAOQ,UAPR,EAOmBqH,QAPnB;;AASA,aAASD,SAAT,CAAmBxF,CAAnB,EAAsB;AACpB,UAAM4G,oBAAoBjI,KAAKkI,MAAL,CAAY;AAAA,eAAKC,EAAElD,OAAF,KAAc5D,EAAE,CAAF,CAAnB;AAAA,OAAZ,EAAqC,CAArC,CAA1B;AACA,UAAM2F,KAAKvI,GAAGqG,IAAH,CAAQmD,kBAAkB/C,QAA1B,EAAoCrE,GAApC,CACT;AAAA,eAAM,EAAC+F,MAAKuB,CAAN,EAASjD,UAAU+C,kBAAkB/C,QAAlB,CAA2BiD,CAA3B,CAAnB,EAAN;AAAA,OADS,CAAX;AAGA;AACA3C,eAASuB,MAAT,CAAgBC,EAAhB;AACA1D,aAAOyD,MAAP,CAAcC,EAAd;AACD;;AAED,aAASF,QAAT,CAAkBzF,CAAlB,EAAqB;AACnB;AACAmE,eAASuB,MAAT,CAAgBqB,eAAhB;AACA9E,aAAOyD,MAAP,CAAcqB,eAAd;AACD;;AAEDL,SAAKnF,MAAL,CAAY,MAAZ,EAAoBY,IAApB,CAAyB;AAAA,aAAK/E,GAAGC,MAAH,CAAU,GAAV,EAAe2C,EAAE,CAAF,CAAf,CAAL;AAAA,KAAzB,EACGwB,IADH,CACQ,GADR,EACa;AAAA,aAAK7B,EAAEK,EAAE,CAAF,CAAF,IAAUL,EAAEgH,SAAF,KAAgB,CAA/B;AAAA,KADb,EAEGnF,IAFH,CAEQ,GAFR,EAEa;AAAA,aAAKtB,EAAEF,EAAE,CAAF,CAAF,IAAU,CAAf;AAAA,KAFb,EAGGwB,IAHH,CAGQ,aAHR,EAGuB,QAHvB;;AAKA4E,OAAGV,MAAH,GAAY,UAACC,EAAD,EAAKqB,KAAL,EAAe;AACzB;AACA9G,QAAEJ,MAAF,CAAS,CAAC,CAAD,EAAI1C,GAAGqJ,GAAH,CAAOd,EAAP,EAAW;AAAA,eAAK3F,EAAE,CAAF,CAAL;AAAA,OAAX,CAAJ,CAAT;;AAEA;AACA,UAAMiH,UAAU3F,IAAIO,SAAJ,CAAc,MAAd,EAAsBlD,IAAtB,CAA2BgH,EAA3B,CAAhB;;AAEA;AACAsB,cAAQ7F,MAAR,CAAe,MAAf,EAAuBkB,UAAvB,GAAoCC,QAApC,CAA6C,GAA7C,EACQf,IADR,CACa,GADb,EACkB;AAAA,eAAKtB,EAAEF,EAAE,CAAF,CAAF,CAAL;AAAA,OADlB,EAEQwB,IAFR,CAEa,QAFb,EAEuB;AAAA,eAAK6E,QAAQ/G,MAAR,GAAiBY,EAAEF,EAAE,CAAF,CAAF,CAAtB;AAAA,OAFvB,EAGQwB,IAHR,CAGa,MAHb,EAGqBwF,KAHrB;;AAKA;AACAC,cAAQ7F,MAAR,CAAe,MAAf,EAAuBkB,UAAvB,GAAoCC,QAApC,CAA6C,GAA7C,EACKJ,IADL,CACU;AAAA,eAAK/E,GAAGC,MAAH,CAAU,GAAV,EAAe2C,EAAE,CAAF,CAAf,CAAL;AAAA,OADV,EAEKwB,IAFL,CAEU,GAFV,EAEe;AAAA,eAAKtB,EAAEF,EAAE,CAAF,CAAF,IAAU,CAAf;AAAA,OAFf;AAGD,KAjBD;;AAmBA,WAAOoG,EAAP;AACD,GA/ED;;AAkFA,MAAMc,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9B,QAAMC,MAAM,EAAZ;AACA;AACA,QAAMC,YAAY,SAAZA,SAAY,CAACrH,CAAD,EAAIsH,EAAJ,EAAW;AAC3B;AACA,aAAOlK,GAAGC,MAAH,CAAU,KAAV,EAAiB2C,EAAE6D,QAAF,GAAazG,GAAGmK,GAAH,CAAOD,GAAG9H,GAAH,CAAO;AAAA,eAAKsG,EAAEjC,QAAP;AAAA,OAAP,CAAP,CAA9B,CAAP;AACD,KAHD;;AAKA;AACA,QAAM5B,SAAS7E,GAAGgE,MAAH,CAAU,gBAAV,EAA4BG,MAA5B,CAAmC,OAAnC,EAA4CC,IAA5C,CAAiD,OAAjD,EAAyD,QAAzD,CAAf;;AAEA;AACA,QAAMgG,KAAKvF,OAAOV,MAAP,CAAc,OAAd,EAAuBM,SAAvB,CAAiC,IAAjC,EAAuClD,IAAvC,CAA4CwI,KAA5C,EAAmDrF,KAAnD,GAA2DP,MAA3D,CAAkE,IAAlE,CAAX;;AAEA;AACAiG,OAAGjG,MAAH,CAAU,IAAV,EAAgBA,MAAhB,CAAuB,KAAvB,EAA8BC,IAA9B,CAAmC,OAAnC,EAA4C,IAA5C,EAAkDA,IAAlD,CAAuD,QAAvD,EAAiE,IAAjE,EACGD,MADH,CACU,MADV,EACkBC,IADlB,CACuB,OADvB,EACgC,IADhC,EACsCA,IADtC,CAC2C,QAD3C,EACqD,IADrD,EAEGA,IAFH,CAEQ,MAFR,EAEgB;AAAA,aAAKgD,OAAOxE,EAAEuF,IAAT,CAAL;AAAA,KAFhB,EAGG/D,IAHH,CAGQ,WAHR,EAGqB,iBAHrB;;AAKA;AACAgG,OAAGjG,MAAH,CAAU,IAAV,EAAgBY,IAAhB,CAAqB;AAAA,aAAKnC,EAAEuF,IAAP;AAAA,KAArB;;AAEA;AACAiC,OAAGjG,MAAH,CAAU,IAAV,EAAgBC,IAAhB,CAAqB,OAArB,EAA6B,iBAA7B,EACKW,IADL,CACU;AAAA,aAAK/E,GAAGC,MAAH,CAAU,GAAV,EAAe2C,EAAE6D,QAAjB,CAAL;AAAA,KADV;;AAGA;AACA2D,OAAGjG,MAAH,CAAU,IAAV,EAAgBC,IAAhB,CAAqB,OAArB,EAA6B,aAA7B,EACKW,IADL,CACU;AAAA,aAAKkF,UAAUrH,CAAV,EAAamH,KAAb,CAAL;AAAA,KADV;;AAGA;AACAC,QAAI1B,MAAJ,GAAa,UAACC,EAAD,EAAQ;AACnB;AACA,UAAM8B,OAAOxF,OAAOb,MAAP,CAAc,OAAd,EAAuBS,SAAvB,CAAiC,IAAjC,EAAuClD,IAAvC,CAA4CgH,EAA5C,CAAb;;AAEA;AACA8B,WAAKrG,MAAL,CAAY,kBAAZ,EAAgCe,IAAhC,CAAqC;AAAA,eAAK/E,GAAGC,MAAH,CAAU,GAAV,EAAe2C,EAAE6D,QAAjB,CAAL;AAAA,OAArC;;AAEA;AACA4D,WAAKrG,MAAL,CAAY,cAAZ,EAA4Be,IAA5B,CAAiC;AAAA,eAAKkF,UAAUrH,CAAV,EAAa2F,EAAb,CAAL;AAAA,OAAjC;AACD,KATD;;AAWA,WAAOyB,GAAP;AACD,GA5CD;;AA8CA,MAAML,kBAAkB,CAAC,KAAD,EAAQ,SAAR,EAAmB,SAAnB,EAA8BvH,GAA9B,CAAkC;AAAA,WACxD,EAAC+F,MAAMmC,CAAP,EAAU7D,UAAUzG,GAAGmK,GAAH,CAAO5I,KAAKa,GAAL,CAAS;AAAA,eAAKyG,EAAEpC,QAAF,CAAW6D,CAAX,CAAL;AAAA,OAAT,CAAP,CAApB,EADwD;AAAA,GAAlC,CAAxB;;AAIA,MAAMC,iBAAiBhJ,KAAKa,GAAL,CAAS;AAAA,WAAK,CAACQ,EAAE4D,OAAH,EAAY5D,EAAE2E,KAAd,CAAL;AAAA,GAAT,CAAvB;;AAEA,MAAM1C,SAASiF,aAAaH,eAAb,CAAf;AACA,MAAM5C,WAAWS,eAAemC,eAAf,CAAjB;AACA,MAAM3C,YAAY8B,gBAAgByB,cAAhB,CAAlB;AAED,CAnND;;AAqNO,IAAMC,4CAAkB,SAAlBA,eAAkB,GAAM;AACnC3D,aAAW,WAAX,EAAwBN,WAAxB;AACD,CAFM,C;;;;;;;;;;;;AC9NP,IAAMkE,eAAe,CACnB,EAAEC,OAAO,IAAT,EAAenD,OAAO,MAAtB,EAA8BoD,MAAM,MAApC,EADmB,EAEnB,EAAED,OAAO,IAAT,EAAenD,OAAO,MAAtB,EAA8BoD,MAAM,MAApC,EAFmB,EAGnB,EAAED,OAAO,IAAT,EAAenD,OAAO,MAAtB,EAA8BoD,MAAM,MAApC,EAHmB,EAInB,EAAED,OAAO,IAAT,EAAenD,OAAO,MAAtB,EAA8BoD,MAAM,MAApC,EAJmB,EAKnB,EAAED,OAAO,IAAT,EAAenD,OAAO,MAAtB,EAA8BoD,MAAM,MAApC,EALmB,CAArB;;AAQA,IAAMC,cAAc,SAAdA,WAAc,CAACpJ,EAAD,EAAKD,IAAL,EAAc;AAChCA,OAAKwG,IAAL,CAAU,UAASY,CAAT,EAAYkC,CAAZ,EAAe;AAAE,WAAOlC,EAAEpB,KAAF,GAAUsD,EAAEtD,KAAnB;AAA2B,GAAtD;;AAEA,MAAM3F,SAAS,EAACC,KAAK,EAAN,EAAUC,OAAO,EAAjB,EAAqBC,QAAQ,EAA7B,EAAiCC,MAAM,EAAvC,EAAf;AACA,MAAMC,QAAQlB,EAAES,EAAF,EAAMS,KAAN,KAAgBL,OAAOI,IAAvB,GAA8BJ,OAAOE,KAAnD;AACA,MAAMI,SAASnB,EAAES,EAAF,EAAMU,MAAN,KAAiBN,OAAOC,GAAxB,GAA8BD,OAAOG,MAApD;;AAEA,MAAMQ,IAAIvC,GAAG+C,WAAH,GAAiBN,KAAjB,CAAuB,CAAC,CAAD,EAAIR,KAAJ,CAAvB,EACGS,MADH,CACU,CAAC,CAAD,EAAI1C,GAAGqJ,GAAH,CAAO9H,IAAP,EAAa;AAAA,WAAKqB,EAAE2E,KAAP;AAAA,GAAb,CAAJ,CADV,CAAV;AAEA,MAAMzE,IAAI9C,GAAGkJ,SAAH,GAAezG,KAAf,CAAqB,CAACP,MAAD,EAAS,CAAT,CAArB,EACGQ,MADH,CACUnB,KAAKa,GAAL,CAAS;AAAA,WAAKQ,EAAE8H,KAAP;AAAA,GAAT,CADV,EACkCtB,OADlC,CAC0C,GAD1C,CAAV;;AAGA,MAAMpG,QAAQhD,GAAGiD,UAAH,CAAcV,CAAd,EAAiBW,KAAjB,CAAuB,CAAvB,EACDQ,UADC,CACU;AAAA,WAAKoH,SAASlI,IAAI,IAAb,CAAL;AAAA,GADV,EAEDmI,aAFC,CAEa,CAAC,CAAC7I,MAAF,CAFb,CAAd;;AAIA,MAAMsB,QAAQxD,GAAGyD,QAAH,CAAYX,CAAZ,CAAd;;AAEA,MAAMsC,UAAUpF,GAAGgE,MAAH,CAAU,MAAV,EAAkBG,MAAlB,CAAyB,KAAzB,EAAgCC,IAAhC,CAAqC,OAArC,EAA8C,SAA9C,CAAhB;;AAEA,MAAMF,MAAMlE,GAAGgE,MAAH,CAAUxC,EAAV,EAAc2C,MAAd,CAAqB,KAArB,EACDC,IADC,CACI,OADJ,EACanC,QAAQL,OAAOI,IAAf,GAAsBJ,OAAOE,KAD1C,EAEDsC,IAFC,CAEI,QAFJ,EAEclC,SAASN,OAAOC,GAAhB,GAAsBD,OAAOG,MAF3C,EAGDoC,MAHC,CAGM,GAHN,EAIDC,IAJC,CAII,WAJJ,EAIiB,eACfxC,OAAOI,IADQ,GACD,GADC,GACKJ,OAAOC,GADZ,GACkB,GALnC,CAAZ;;AAQAqC,MAAIC,MAAJ,CAAW,GAAX,EACIC,IADJ,CACS,OADT,EACkB,QADlB,EAEIA,IAFJ,CAES,WAFT,EAEsB,iBAAiBlC,MAAjB,GAA0B,GAFhD,EAGImC,IAHJ,CAGSrB,KAHT;;AAKAkB,MAAIC,MAAJ,CAAW,GAAX,EACIC,IADJ,CACS,OADT,EACkB,QADlB,EAEIC,IAFJ,CAESb,KAFT;;AAIAU,MAAIO,SAAJ,CAAc,MAAd,EAAsBlD,IAAtB,CAA2BA,IAA3B,EACImD,KADJ,GACYP,MADZ,CACmB,MADnB,EAEIC,IAFJ,CAES,OAFT,EAEkB,KAFlB,EAGIA,IAHJ,CAGS,GAHT,EAGc,CAHd,EAIIA,IAJJ,CAIS,GAJT,EAIc;AAAA,WAAKtB,EAAEF,EAAE8H,KAAJ,CAAL;AAAA,GAJd,EAKItG,IALJ,CAKS,OALT,EAKkB;AAAA,WAAK7B,EAAEK,EAAE2E,KAAJ,CAAL;AAAA,GALlB,EAMInD,IANJ,CAMS,QANT,EAMmBtB,EAAEyG,SAAF,EANnB,EAOIvI,EAPJ,CAOO,WAPP,EAOoB,UAAS4B,CAAT,EAAY;AACzB,QAAM2E,QAAQvH,GAAGC,MAAH,CAAU,GAAV,EAAe2C,EAAE2E,KAAjB,CAAd;AACAnC,YACGN,KADH,CACS,MADT,EACiB9E,GAAGgL,KAAH,CAASC,KAAT,GAAiB,EAAjB,GAAsB,IADvC,EAEGnG,KAFH,CAES,KAFT,EAEgB9E,GAAGgL,KAAH,CAASE,KAAT,GAAiB,EAAjB,GAAsB,IAFtC,EAGGpG,KAHH,CAGS,SAHT,EAGoB,cAHpB,EAIGqG,IAJH,yBAI8BvI,EAAE8H,KAJhC,UAI0CnD,KAJ1C;AAKH,GAdJ,EAeIvG,EAfJ,CAeO,UAfP,EAemB;AAAA,WAAMoE,QAAQN,KAAR,CAAc,SAAd,EAAyB,MAAzB,CAAN;AAAA,GAfnB;AAiBD,CAtDD;;AAwDO,IAAMsG,0CAAiB,SAAjBA,cAAiB,GAAM;AAClCR,cAAY,MAAZ,EAAoBH,YAApB;AACD,CAFM,C;;;;;;;;;;;;AChEP,IAAMY,gBAAgB,CACpB,EAACC,MAAM,WAAP,EAAoBC,MAAM,iIAA1B,EADoB,EAEpB,EAACD,MAAM,WAAP,EAAoBC,MAAM,mGAA1B,EAFoB,EAGpB,EAACD,MAAM,UAAP,EAAmBC,MAAM,8HAAzB,EAHoB,EAIpB,EAACD,MAAM,UAAP,EAAmBC,MAAM,uFAAzB,EAJoB,EAKpB,EAACD,MAAM,UAAP,EAAmBC,MAAM,wFAAzB,EALoB,EAMpB,EAACD,MAAM,UAAP,EAAmBC,MAAM,4FAAzB,EANoB,EAOpB,EAACD,MAAM,UAAP,EAAmBC,MAAM,+HAAzB,EAPoB,CAAtB;;AAUA,IAAMC,gBAAgB,SAAhBA,aAAgB,UAAW;AAC/BzK,IAAEV,QAAF,EAAYoL,KAAZ,CAAkB,YAAM;AACtB,SAAK,IAAInJ,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1B,UAAMoJ,0BAAwBpJ,CAAxB,eAAN;AACAvB,QAAE,oBAAF,EAAwBoD,MAAxB,CAA+BuH,IAA/B;AACD;AACDC,kBAAcN,aAAd;AACD,GAND;AAOD,CARD;;AAUA,IAAMM,gBAAgB,SAAhBA,aAAgB,UAAW;AAC/BC,UAAQzF,IAAR,CAAayF,QAAQtF,KAAR,EAAb;AACA,OAAK,IAAIhE,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1B,QAAMuJ,UAAaD,QAAQtJ,CAAR,EAAWgJ,IAAxB,WAAkCM,QAAQtJ,CAAR,EAAWiJ,IAA7C,MAAN;AACAlL,aAASC,cAAT,aAAkCgC,CAAlC,EAAuC/B,SAAvC,GAAmDsL,OAAnD;AACD;AACF,CAND;;AAQO,IAAMC,0CAAiB,SAAjBA,cAAiB,GAAM;AAClCN,gBAAcH,aAAd;AACA,MAAMxK,WAAWC,YAAY;AAAA,WAAM6K,cAAcN,aAAd,CAAN;AAAA,GAAZ,EAAgD,IAAhD,CAAjB;AACAtK,IAAE,oBAAF,EAAwBC,EAAxB,CAA2B,QAA3B,EAAqC;AAAA,WAAMC,cAAcJ,QAAd,CAAN;AAAA,GAArC;AACD,CAJM,C;;;;;;;;;;;;AC5BP,IAAMkL,WAAW,SAAXA,QAAW,MAAO;AACtB,SAAOC,MAAMtL,KAAKuL,EAAX,GAAgB,GAAvB;AACD,CAFD;;AAIA,IAAMC,eAAe,SAAfA,YAAe,GAAM;AACzB,MAAMC,cAAc,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,CAApB;AACA,MAAMC,gBAAgB,CAACpM,GAAGqM,aAAH,CAAiB,IAAjB,EAAuB,GAAvB,GAAD,CAAtB;AACA,SAAO,CAACD,aAAD,EAAgBD,WAAhB,CAAP;AACD,CAJD;;AAMA,IAAMG,cAAc,SAAdA,WAAc,CAAC9K,EAAD,EAAQ;AAC1B;AACA,MAAMI,SAAS,EAAEC,KAAK,EAAP,EAAWC,OAAO,EAAlB,EAAsBC,QAAQ,EAA9B,EAAkCC,MAAM,EAAxC,EAAf;AACA,MAAMC,QAAQlB,EAAES,EAAF,EAAMS,KAAN,EAAd;AACA,MAAMC,SAASnB,EAAES,EAAF,EAAMU,MAAN,EAAf;AACA,MAAIqK,IAAItK,QAAQ,CAAhB;AACA;AACA,MAAMmF,SAAS,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwDoF,OAAxD,EAAf;AACA,MAAMC,aAAazM,GAAG+C,WAAH,GAAiBL,MAAjB,CAAwB,CAAC,CAAD,EAAI,CAAJ,CAAxB,EAAgCD,KAAhC,CAAsC,CAAC,CAAC,EAAF,EAAM,EAAN,CAAtC,CAAnB;;AAEA,MAAMyB,MAAMlE,GAAGgE,MAAH,CAAUxC,EAAV,EAAc2C,MAAd,CAAqB,KAArB,EACDC,IADC,CACI,OADJ,EACanC,KADb,EAEDmC,IAFC,CAEI,QAFJ,EAEclC,MAFd,CAAZ;;AAIA;AACA;AACA;AACA;AACA;;AAEA,MAAMyF,MAAM3H,GAAG2H,GAAH,GAASE,WAAT,CAAqB5F,QAAQ,CAAR,GAAY,EAAjC,EAAqC2F,WAArC,CAAiD3F,QAAQ,CAAzD,EAA4DyK,QAA5D,CAAqE,CAArE,CAAZ;AACA,MAAM5E,MAAM9H,GAAG8H,GAAH,GAAS6E,UAAT,CAAqB,CAACjM,KAAKuL,EAAN,GAAW,CAAhC,EAAoCW,QAApC,CAA8ClM,KAAKuL,EAAL,GAAU,CAAxD,EACGlE,IADH,CACQ,IADR,EACcC,KADd,CACoB;AAAA,WAAKpF,CAAL;AAAA,GADpB,CAAZ;;AAGA,MAAIrB,OAAO2K,cAAX;AACA,MAAMW,OAAO3I,IAAIO,SAAJ,CAAc,MAAd,EAAsBlD,IAAtB,CAA2BuG,IAAIvG,KAAK,CAAL,CAAJ,CAA3B,EACImD,KADJ,GACYP,MADZ,CACmB,MADnB,EAEIC,IAFJ,CAES,GAFT,EAEcuD,GAFd,EAGIvD,IAHJ,CAGS,OAHT,EAGkBnC,KAHlB,EAGyBmC,IAHzB,CAG8B,QAH9B,EAGwClC,MAHxC,EAIIkC,IAJJ,CAIS,WAJT,EAIsB,eAAenC,QAAQ,CAAvB,GAA2B,GAA3B,IAAkCC,SAASN,OAAOG,MAAlD,IAA4D,GAJlF,EAKI+C,KALJ,CAKU,MALV,EAKkB,UAAClC,CAAD,EAAIN,CAAJ;AAAA,WAAU8E,OAAO9E,CAAP,CAAV;AAAA,GALlB,CAAb;;AAOA,MAAMwK,SAAS5I,IAAIO,SAAJ,CAAc,SAAd,EAAyBlD,IAAzB,CAA8BA,KAAK,CAAL,CAA9B,EACVmD,KADU,GACFP,MADE,CACK,MADL,EACa4I,OADb,CACqB,QADrB,EAC+B,IAD/B,EAEV3I,IAFU,CAEL,GAFK,EAEA,CAAC,OAAD,EAAU,SAAV,EAAqB,2BAArB,EAAkD,GAAlD,EAAuD4I,IAAvD,CAA4D,GAA5D,CAFA,EAGV5I,IAHU,CAGJ,WAHI,EAGS,UAASxB,CAAT,EAAY;AAC9B2J,QAAI,MAAM3J,CAAN,GAAUrB,KAAK,CAAL,EAAQ,CAAR,CAAV,GAAuB,EAA3B;AACA,WAAO,eAAeU,QAAQ,CAAvB,GAA2B,GAA3B,IAAkCC,SAASN,OAAOG,MAAlD,IAA4D,IAA5D,GACH,SADG,GACSwK,CADT,GACa,IADb,GAEH,QAFG,GAEStK,QAAQ,CAFjB,GAEsB,GAF7B;AAGC,GARQ,CAAf;;AAWAjC,KAAGgE,MAAH,CAAW,SAAX,EACChD,EADD,CACI,OADJ,EACa,YAAW;AACtBO,WAAO2K,cAAP;AACAW,SAAKtL,IAAL,CAAUuG,IAAIvG,KAAK,CAAL,CAAJ,CAAV,EAAwB2D,UAAxB,GAAqCd,IAArC,CAA0C,GAA1C,EAA+CuD,GAA/C;AACAmF,WAAOvL,IAAP,CAAYA,KAAK,CAAL,CAAZ,EACO2D,UADP,GACoBM,IADpB,CACyBxF,GAAGiN,cAD5B,EAC4C9H,QAD5C,CACqD,IADrD,EAEOf,IAFP,CAEa,WAFb,EAE0B,UAASxB,CAAT,EAAY;AAC9B2J,UAAI,MAAM3J,CAAN,GAAUrB,KAAK,CAAL,EAAQ,CAAR,CAAV,GAAuB,EAA3B;AACA,aAAO,eAAeU,QAAQ,CAAvB,GAA2B,GAA3B,IAAkCC,SAASN,OAAOG,MAAlD,IAA4D,IAA5D,GACH,SADG,GACSwK,CADT,GACa,GADb,GAEH,QAFG,GAESrK,SAAS,CAFlB,GAEuB,GAF9B;AAGD,KAPP;AAQA,GAZF;AAcD,CAzDD;;AA2DO,IAAMgL,wCAAgB,SAAhBA,aAAgB,GAAM;AACjCZ,cAAY,SAAZ;AACD,CAFM,C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0965d96a562bf13086c7","import { displayTickingNumbers } from './ticking_numbers.js';\nimport { displayActiveUsers } from './active_users.js';\nimport { displayChannels } from './channels.js';\nimport { displayGeoDist } from './geo.js';\nimport { displayReviews } from './reviews.js';\nimport { displayRating } from './rating.js';\n\ndisplayTickingNumbers();\ndisplayActiveUsers();\ndisplayChannels();\ndisplayGeoDist();\ndisplayReviews();\ndisplayRating();\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js","const formatDollar = d3.format(\"$,.02f\");\nconst formatNumber = d3.format(\",.0f\");\n\nlet monthlyRevenue = 1000000;\nlet monthlyDownloads = 60000;\ndocument.getElementById('monthly-revenue').innerHTML\n  = formatDollar(monthlyRevenue);\ndocument.getElementById('monthly-downloads').innerHTML\n  = formatNumber(monthlyDownloads);\n\nconst tick = (initVal) => {\n  return initVal + Math.random() * (initVal / 1000);\n};\n\nexport const displayTickingNumbers = () => {\n  const interval = setInterval(function() {\n    monthlyRevenue = tick(monthlyRevenue, 'monthly-revenue');\n    document.getElementById('monthly-revenue').innerHTML\n      = formatDollar(monthlyRevenue);\n    monthlyDownloads = tick(monthlyDownloads, 'monthly-downloads');\n    document.getElementById('monthly-downloads').innerHTML\n      = formatNumber(monthlyDownloads);\n  }, 1500);\n\n  $(\"monthly-revenue\").on(\"remove\", () => clearInterval(interval));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ticking_numbers.js","const generateActiveUserNumbers = time => {\n  const base = 50000;\n  return {\n    'time': time,\n    'DAU': Math.floor(base * (1 + (Math.random() - 0.5) * 0.25)),\n    'WAU': Math.floor(base * 2 * (1 + (Math.random() - 0.5) * 0.25)),\n    'MAU': Math.floor(base * 5 * (1 + (Math.random() - 0.5) * 0.25)),\n  };\n};\n\nconst generate = (data, id, axisNum) => {\n\n  // get data prepared\n  const parseTime = d3.timeParse(\"%H:%M\");\n  const formatNumber = d3.format(\".3s\");\n\n  // calculate chart size based on window size\n  const margin = { top: 20, right: 20, bottom: 40, left: 30 };\n  const width = $(id).width() - margin.left - margin.right;\n  const height = $(id).height() - margin.top - margin.bottom;\n\n  // map time str to time object\n  const ddata = data.map((ele, i) => ({\n    'time': parseTime(ele['time']),\n    'DAU': ele['DAU'],\n    'WAU': ele['WAU'],\n    'MAU': ele['MAU']\n  }));\n\n  // set the range and scale the range to data\n  const x = d3.scaleTime().range([0, width])\n              .domain(d3.extent(ddata, d => d.time));\n        // extent returns [min, max]\n  const yRange = d3.extent(ddata, d => d['DAU']);\n  const y = d3.scaleLinear().range([height, 0])\n              .domain([yRange[1] / 2, yRange[1] * 1.2]);\n\n  // defined axes\n  const xAxis = d3.axisBottom(x)\n      .ticks(d3.timeMinute.every(Math.floor(data.length / axisNum)))\n      .tickSize(-height)\n      .tickPadding([6]);\n\n  const yAxis = d3.axisLeft(y)\n      .ticks(10)\n      .tickSize(-width)\n      .tickFormat(formatNumber);\n\n  // define the plotting\n  const area = d3.area()\n      .curve(d3.curveCardinal)\n      .x(d => x(d.time))\n      .y0(height)\n      .y1(d => y(d[\"DAU\"]));\n\n  // remove previous element\n  d3.select('.active-users').remove();\n\n  // define svg\n  const svg = d3.select(id).append(\"svg\")\n      .attr(\"id\", \"svg-active-users\")\n      .attr(\"width\", width + margin.right + margin.left)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n  svg.append(\"g\")\n     .attr(\"class\", \"x axis\")\n     .attr(\"id\", \"active-users-x-axis\")\n     .attr(\"transform\", \"translate(0,\" + height + \")\")\n     .call(xAxis);\n\n  svg.append(\"g\")\n     .attr(\"class\", \"y axis\")\n     .call(yAxis);\n\n  const path = svg.append(\"svg:path\")\n      .datum(ddata)\n      .attr(\"class\", \"areaM\")\n      .attr(\"d\", area);\n\n  const points = svg.selectAll(\".gPoints\")\n      .data(ddata)\n      .enter().append(\"g\")\n      .attr(\"class\", \"gPoints\");\n\n  //legend rendering\n  const legendSize = 8;\n  const legendColor = 'rgba(0, 160, 233, 0.7)';\n\n  const legend = svg.append('g')\n      .attr('class', 'legend')\n      .attr('transform',\n        'translate(0,' + (height + margin.bottom - legendSize) +')'\n      );\n\n  legend.append('rect')\n      .attr('width', legendSize)\n      .attr('height', legendSize)\n      .attr('transform', 'translate(0, -5)')\n      .style('fill', legendColor);\n\n  legend.append('text')\n      .data(ddata)\n      .attr('x', legendSize * 1.2)\n      .attr('y', legendSize / 2)\n      .text('Daily Active Users');\n\n  points.selectAll(\".usertipPoints\")\n      .data(ddata)\n      .enter().append(\"circle\")\n      .attr(\"class\", \"usertipPoints\")\n      .attr(\"cx\", d => x(d.time))\n      .attr(\"cy\", d => y(d['DAU']))\n      .attr(\"r\", \"6px\")\n      .on(\"mouseover\", function (d) {\n        console.log(this);\n\n        // d3.select(this).transition().duration(100).style(\"opacity\", 1);\n\n        svg.append(\"g\")\n            .attr(\"class\", \"tipDot\")\n            .append(\"line\")\n            .attr(\"class\", \"tipDot\")\n            .transition()\n            .duration(50)\n            .attr(\"x1\", x(d['time']))\n            .attr(\"x2\", x(d['time']))\n            .attr(\"y2\", height);\n\n        svg.append(\"polyline\")      // attach a polyline\n            .attr(\"class\", \"tipDot\")  // colour the line\n            .style(\"fill\", \"black\")     // remove any fill colour\n            .attr(\"points\", (x(d['time'])-3.5)+\",\"+(y(1)-2.5)+\",\"+x(d['time'])+\",\"+(y(1)+6)+\",\"+(x(d['time'])+3.5)+\",\"+(y(1)-2.5));\n\n        svg.append(\"polyline\")      // attach a polyline\n            .attr(\"class\", \"tipDot\")  // colour the line\n            .style(\"fill\", \"black\")     // remove any fill colour\n            .attr(\"points\", (x(d['time'])-3.5)+\",\"+(y(0)+2.5)+\",\"+x(d['time'])+\",\"+(y(0)-6)+\",\"+(x(d['time'])+3.5)+\",\"+(y(0)+2.5));\n\n        $(this).tooltip({\n          'container': 'body',\n          'placement': 'left',\n          'title': 'Daily Active User: ' + formatNumber(d['DAU']),\n          'trigger': 'hover'\n        }).tooltip('show');\n      })\n      .on(\"mouseout\",  function (d) {\n        // d3.select(this).transition().duration(100).style(\"opacity\", 0);\n\n        d3.selectAll('.tipDot').transition().duration(100).remove();\n\n        $(this).tooltip('destroy');\n      });\n\n  const axisOpt = { x, y, xAxis, width, height };\n  const svgAttr = { svg, points, area, path };\n\n  return { axisOpt, svgAttr };\n};\n\nconst redraw = (data, id, x, y, xAxis, svg, area, path, points, height, axisNum) => {\n  //format of time data\n  var parseTime = d3.timeParse(\"%H:%M\");\n  var formatNumber = d3.format(\".0%\");\n\n  const ddata = data.map((ele, i) => ({\n    'time': parseTime(ele['time']),\n    'DAU': ele['DAU'],\n    'WAU': ele['WAU'],\n    'MAU': ele['MAU']\n  }));\n\n  x.domain(d3.extent(ddata, d => d.time));\n\n  xAxis.ticks(d3.timeMinute.every(Math.floor(data.length / axisNum)))\n\n  svg.select(\"#active-users-x-axis\")\n      .transition()\n      .duration(200)\n      .ease(d3.easeSin)\n      .call(xAxis);\n\n  //area line updating\n  path.datum(ddata)\n      .transition()\n      .duration(200)\n      .attr(\"class\", \"areaM\")\n      .attr(\"d\", area);\n\n  //circle updating\n  points.selectAll(\".usertipPoints\")\n      .data(ddata)\n      .attr(\"class\", \"usertipPoints\")\n      .attr(\"cx\", d => x(d.time))\n      .attr(\"cy\", d => y(d['DAU']))\n      .attr(\"r\", \"6px\");\n\n  //draw new dot\n  points.selectAll(\".usertipPoints\")\n      .data(ddata)\n      .enter().append(\"circle\")\n      .attr(\"class\", \"usertipPoints\")\n      .attr(\"cx\", d => x(d.time))\n      .attr(\"cy\", d => y(d['DAU']))\n      .attr(\"r\", \"6px\");\n\n  //remove old dot\n  points.selectAll(\".usertipPoints\")\n      .data(ddata)\n      .exit()\n      .transition()\n      .duration(200)\n      .remove();\n};\n\n//dynamic data and chart update\nexport const displayActiveUsers = () => {\n  const minutes = ['10:01', '10:02', '10:03', '10:04',\n    '10:05', '10:06', '10:07', '10:08', '10:09'];\n\n  const activeUserData = minutes.map(m => generateActiveUserNumbers(m));\n\n  const categories = ['Daily Active Users', 'Weekly Active Users',\n    'Monthly Active Users'];\n\n  let hAxis = 10;\n  let mAxis = 10;\n\n  const id = \"#active-users\";\n  const sca = new generate(activeUserData, id, 8);\n\n  const interval = setInterval(() => {\n    //update donut data\n    activeUserData.push(generateActiveUserNumbers(hAxis + \":\" + mAxis));\n\n    if(mAxis === 59) {\n      hAxis++;\n      mAxis=0;\n    }\n    else {\n      mAxis++;\n    }\n\n    if (Object.keys(activeUserData).length === 20) activeUserData.shift();\n\n    redraw(\n      activeUserData, \".active-users\", sca.axisOpt['x'], sca.axisOpt['y'],\n      sca.axisOpt['xAxis'], sca.svgAttr['svg'], sca.svgAttr['area'],\n      sca.svgAttr['path'], sca.svgAttr['points'], sca.axisOpt['height'], 8\n    );\n\n    // debugger;\n  }, 4000);\n\n  $(id).on(\"remove\", () => clearInterval(interval));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/active_users.js","const channelData = [\n  { channel: 'Organic', platform: { iOS: 10500, Android: 15100, Desktop: 2300 } },\n  { channel: 'Google', platform: { iOS: 7900, Android: 6700, Desktop: 3100 } },\n  { channel: 'FB', platform: { iOS: 5700, Android: 6200, Desktop: 1100 } },\n  { channel: 'AdMob', platform: { iOS: 1400, Android: 4100, Desktop: 580 } },\n  { channel: 'Email', platform: { iOS: 450, Android: 810, Desktop: 1250 } },\n  { channel: 'Referral', platform: { iOS: 2500, Android: 700, Desktop: 240 } },\n];\n\nconst createView = (id, data) => {\n  // geometry\n  const margin = { top: 60, right: 0, bottom: 30, left: 0 };\n  const width = $(id).width() - margin.right - margin.left;\n  const height = $(id).height() - margin.top - margin.bottom;\n  const dimension = {\n    pieChart: {\n      width: height,\n      height,\n    },\n    histogram: {\n      width: 300,\n      height,\n    },\n  };\n  const pieDim = dimension.pieChart;\n  pieDim.radius = Math.min(pieDim.width, pieDim.height) / 2;\n  // aesthetic\n  const colors = { bar: 'grey', iOS: \"#e08214\", Android: \"#14e082\",\n    Desktop: \"#8214e0\" };\n  // calculate subtotals\n  data.forEach(d => { d.total = d.platform.iOS + d.platform.Android\n    + d.platform.Desktop; });\n\n  // function to generate pie chart\n  const createPieChart = (pData) => {\n    const pC = {};\n    const svg = d3.select('#channels-left').append(\"svg\")\n              .attr(\"width\", pieDim.width)\n              .attr(\"height\", pieDim.height)\n              .append(\"g\")\n              .attr(\"transform\", \"translate(\" + pieDim.width / 2 + \",\"\n                + pieDim.height / 2 + \")\");\n\n    const arc = d3.arc().outerRadius(pieDim.radius - 10).innerRadius(0);\n    const pie = d3.pie().sort(null).value(d => d.platform);\n\n    svg.selectAll(\"path\").data(pie(pData))\n       .enter().append(\"path\")\n       .attr(\"d\", arc)\n       .each(function(d) { this._current = d; })\n       .style(\"fill\", d => colors[d.data.type])\n       .on(\"mouseover\", mouseover)\n       .on(\"mouseout\", mouseout);\n\n    pC.update = nD => {\n      svg.selectAll(\"path\").data(pie(nD))\n         .transition().duration(500)\n         .attrTween(\"d\", arcTween);\n    };\n\n    function mouseover(d) {\n      // call the update function of histogram with new data.\n      const nD = data.map(c => [c.channel, c.platform[d.data.type]]);\n      histogram.update(nD, colors[d.data.type]);\n    }\n             //Utility function to be called on mouseout a pie slice.\n    function mouseout(d) {\n      // call the update function of histogram with all data.\n      histogram.update(data.map(c => [c.channel, c.total]), colors.bar);\n    }\n\n    function arcTween(a) {\n      const i = d3.interpolateObject(this._current, a);\n      this._current = i(0);\n      return t => arc(i(t));\n    }\n\n    return pC;\n  };\n\n\n  // function to generate histogram\n  const createHistogram = (byChannelData) => {\n    const hG = {};\n    const histDim = dimension.histogram;\n\n    const svg = d3.select('#channels-right').append(\"svg\")\n        .attr(\"width\", histDim.width + margin.left + margin.right)\n        .attr(\"height\", histDim.height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + (margin.top + 12) + \")\");\n\n    const x = d3.scaleBand()\n            .rangeRound([0, histDim.width]).padding(0.1)\n            .domain(byChannelData.map(d => d[0]));\n\n    const y = d3.scaleLinear()\n            .range([histDim.height, 0])\n            .domain([0, d3.max(byChannelData, d => d[1])]);\n\n    const xAxis = d3.axisBottom(x)\n\n    svg.append(\"g\").attr(\"class\", \"x axis\")\n       .attr(\"transform\", \"translate(0,\" + histDim.height + \")\")\n       .call(xAxis);\n\n    const bars = svg.selectAll(\".bar\")\n                    .data(byChannelData).enter()\n                    .append(\"g\")\n                    .attr(\"class\", \"bar\");\n\n    bars.append(\"rect\")\n        .attr(\"x\", d => x(d[0]))\n        .attr(\"y\", d => y(d[1]))\n        .attr(\"width\", x.bandwidth())\n        .attr(\"height\", d => histDim.height - y(d[1]))\n        .attr('fill', colors.bar)\n        .on(\"mouseover\", mouseover)\n        .on(\"mouseout\",mouseout);\n\n    function mouseover(d) {\n      const singleChannelData = data.filter(s => s.channel === d[0])[0];\n      const nD = d3.keys(singleChannelData.platform).map(\n        s => ({type:s, platform: singleChannelData.platform[s]})\n      );\n      // call update functions of pie-chart and legend.\n      pieChart.update(nD);\n      legend.update(nD);\n    };\n\n    function mouseout(d) {\n      // reset the pie-chart and legend.\n      pieChart.update(totalByPlatform);\n      legend.update(totalByPlatform);\n    };\n\n    bars.append(\"text\").text(d => d3.format(\",\")(d[1]))\n      .attr(\"x\", d => x(d[0]) + x.bandwidth() / 2)\n      .attr(\"y\", d => y(d[1]) - 5)\n      .attr(\"text-anchor\", \"middle\");\n\n    hG.update = (nD, color) => {\n      // update the domain of the y-axis map to reflect change in frequencies.\n      y.domain([0, d3.max(nD, d => d[1])]);\n\n      // Attach the new data to the bars.\n      const newBars = svg.selectAll(\".bar\").data(nD);\n\n      // transition the height and color of rectangles.\n      newBars.select(\"rect\").transition().duration(500)\n             .attr(\"y\", d => y(d[1]))\n             .attr(\"height\", d => histDim.height - y(d[1]))\n             .attr(\"fill\", color);\n\n      // transition the frequency labels location and change value.\n      newBars.select(\"text\").transition().duration(500)\n          .text(d => d3.format(\",\")(d[1]))\n          .attr(\"y\", d => y(d[1]) - 5);\n    };\n\n    return hG;\n  };\n\n\n  const createLegend = (lData) => {\n    const leg = {};\n    // compute percentage\n    const getLegend = (d, aD) => {\n      // console.log(d.platform / d3.sum(aD.map(c => c.platform)));\n      return d3.format(\".2%\")(d.platform / d3.sum(aD.map(c => c.platform)));\n    };\n\n    // create table for legend.\n    const legend = d3.select('#channels-left').append(\"table\").attr('class','legend');\n\n    // create one row per segment.\n    const tr = legend.append(\"tbody\").selectAll(\"tr\").data(lData).enter().append(\"tr\");\n\n    // create the first column for each segment.\n    tr.append(\"td\").append(\"svg\").attr(\"width\", '16').attr(\"height\", '16')\n      .append(\"rect\").attr(\"width\", '16').attr(\"height\", '16')\n      .attr(\"fill\", d => colors[d.type])\n      .attr('transform', 'translate(0, 6)');\n\n    // create the second column for each segment.\n    tr.append(\"td\").text(d => d.type);\n\n    // create the third column for each segment.\n    tr.append(\"td\").attr(\"class\",'legend-platform')\n        .text(d => d3.format(\",\")(d.platform));\n\n    // create the fourth column for each segment.\n    tr.append(\"td\").attr(\"class\",'legend-perc')\n        .text(d => getLegend(d, lData));\n\n    // Utility function to be used to update the legend.\n    leg.update = (nD) => {\n      // update the data attached to the row elements.\n      const rows = legend.select(\"tbody\").selectAll(\"tr\").data(nD);\n\n      // update the frequencies.\n      rows.select(\".legend-platform\").text(d => d3.format(\",\")(d.platform));\n\n      // update the percentage column.\n      rows.select(\".legend-perc\").text(d => getLegend(d, nD));\n    }\n\n    return leg;\n  };\n\n  const totalByPlatform = [\"iOS\", \"Android\", \"Desktop\"].map(p => (\n    {type: p, platform: d3.sum(data.map(t => t.platform[p]))}\n  ));\n\n  const totalByChannel = data.map(d => [d.channel, d.total]);\n\n  const legend = createLegend(totalByPlatform);\n  const pieChart = createPieChart(totalByPlatform);\n  const histogram = createHistogram(totalByChannel);\n\n};\n\nexport const displayChannels = () => {\n  createView(\"#channels\", channelData);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/channels.js","const usersByState = [\n  { state: 'CA', total: 962000, paid: 192400 },\n  { state: 'NY', total: 827400, paid: 251700 },\n  { state: 'TX', total: 535000, paid: 230400 },\n  { state: 'PA', total: 327600, paid: 126700 },\n  { state: 'MA', total: 210000, paid: 153400 },\n];\n\nconst createHBars = (id, data) => {\n  data.sort(function(a, b) { return a.total - b.total; });\n\n  const margin = {top: 20, right: 20, bottom: 30, left: 40};\n  const width = $(id).width() - margin.left - margin.right;\n  const height = $(id).height() - margin.top - margin.bottom;\n\n  const x = d3.scaleLinear().range([0, width])\n              .domain([0, d3.max(data, d => d.total)]);\n  const y = d3.scaleBand().range([height, 0])\n              .domain(data.map(d => d.state)).padding(0.2);\n\n  const xAxis = d3.axisBottom(x).ticks(5)\n              .tickFormat(d => parseInt(d / 1000))\n              .tickSizeInner([-height]);\n\n  const yAxis = d3.axisLeft(y);\n\n  const tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"toolTip\");\n\n  const svg = d3.select(id).append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\"\n              + margin.left + \",\" + margin.top + \")\"\n            );\n\n  svg.append(\"g\")\n     .attr('class', \"x axis\")\n     .attr('transform', \"translate(0,\" + height + \")\")\n     .call(xAxis);\n\n  svg.append(\"g\")\n     .attr('class', 'y axis')\n     .call(yAxis);\n\n  svg.selectAll('.bar').data(data)\n     .enter().append('rect')\n     .attr('class', 'bar')\n     .attr('x', 0)\n     .attr(\"y\", d => y(d.state))\n     .attr(\"width\", d => x(d.total))\n     .attr(\"height\", y.bandwidth())\n     .on(\"mousemove\", function(d) {\n         const total = d3.format(',')(d.total)\n         tooltip\n           .style(\"left\", d3.event.pageX - 50 + \"px\")\n           .style(\"top\", d3.event.pageY - 70 + \"px\")\n           .style(\"display\", \"inline-block\")\n           .html(`Number of users in ${d.state}: ${total}`);\n     })\n     .on(\"mouseout\", () => tooltip.style(\"display\", \"none\"));\n\n};\n\nexport const displayGeoDist = () => {\n  createHBars(\"#geo\", usersByState);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/geo.js","const sampleReviews = [\n  {user: 'Andrew M.', body: \"The text <b class='attention-high'>broke</b> out of the box, is it because I use bigger <b class='attention-low'>font</b> size?\"},\n  {user: 'Elliot H.', body: \"The <b class='attention-medium'>hamburger menu</b> does not respond to me, can't change my name!!\"},\n  {user: 'Jules C.', body: \"The app <b class='attention-high'>crashed</b> after I clicked the <b class='attention-low'>sumbit</b> button, what happened?\"},\n  {user: 'Munyo F.', body: \"I like it but it's kinda <b class='attention-medium'>slow</b> when I don't have WIFI.\"},\n  {user: 'Aaron W.', body: \"The <b class='attention-low'>'start'</b> button should be on the bottom of the screen.\"},\n  {user: 'Chuck N.', body: \"The animation is fancy, but I don't want to <b class='attention-medium'>wait</b> for it :P\"},\n  {user: 'Louis C.', body: \"There seems to be a <b class='attention-medium'>hiccup</b> when I was tapping on the <b class='attention-low'>'carousel'</b>.\"},\n];\n\nconst createReviews = reviews => {\n  $(document).ready(() => {\n    for (let i = 0; i < 5; i++) {\n      const pEle = `<p id=\"review-${i}\"></p><hr>`;\n      $(\"#reviews-container\").append(pEle);\n    }\n    updateReviews(sampleReviews);\n  });\n};\n\nconst updateReviews = reviews => {\n  reviews.push(reviews.shift());\n  for (let i = 0; i < 5; i++) {\n    const content = `${reviews[i].user}: \"${reviews[i].body}\"`;\n    document.getElementById(`review-${i}`).innerHTML = content;\n  }\n};\n\nexport const displayReviews = () => {\n  createReviews(sampleReviews);\n  const interval = setInterval(() => updateReviews(sampleReviews), 4000);\n  $(\"#reviews-container\").on(\"remove\", () => clearInterval(interval));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reviews.js","const degToRad = deg => {\n  return deg * Math.PI / 180;\n};\n\nconst generateData = () => {\n  const newarcsdata = [0.2, 0.2, 0.2, 0.2, 0.2];\n  const newneedledata = [d3.randomUniform(0.12, 0.2)()];\n  return [newneedledata, newarcsdata];\n};\n\nconst CreateGauge = (id) => {\n  // geometry\n  const margin = { top: 20, right: 20, bottom: 20, left: 20 };\n  const width = $(id).width();\n  const height = $(id).height();\n  let r = width / 2;\n  // aesthetic\n  const colors = [\"#91cf60\", \"#d9ef8b\", \"#fee08b\", \"#fc8d59\", \"#d73027\"].reverse();\n  const angleScale = d3.scaleLinear().domain([0, 5]).range([-90, 90]);\n\n  const svg = d3.select(id).append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n\n  // svg.append('g').classed('axis', true)\n  //   .call(d3AxisRadialOuter(\n  //       angleScale.copy().range(angleScale.range().map(degToRad)),\n  //       r - 5\n  // ));\n\n  const arc = d3.arc().innerRadius(width * 5 / 16).outerRadius(width / 2).padAngle(0);\n  const pie = d3.pie().startAngle( -Math.PI / 2 ).endAngle( Math.PI / 2 )\n                .sort(null).value(d => d);\n\n  let data = generateData();\n  const arcs = svg.selectAll('.arc').data(pie(data[1]))\n                  .enter().append('path')\n                  .attr(\"d\", arc)\n                  .attr(\"width\", width).attr(\"height\", height)\n                  .attr(\"transform\", \"translate(\" + width / 2 + \",\" + (height - margin.bottom) + \")\")\n                  .style(\"fill\", (d, i) => colors[i]);\n\n  const needle = svg.selectAll(\".needle\").data(data[0])\n      .enter().append('path').classed('needle', true)\n      .attr('d', ['M0 -1', 'L0.03 0', 'A 0.03 0.03 0 0 1 -0.03 0', 'Z'].join(' '))\n      .attr( \"transform\", function(d) {\n        r = 180 * d / data[1][3] - 90;\n        return \"translate(\" + width / 2 + \",\" + (height - margin.bottom) + \") \"\n          + \"rotate(\" + r + \") \"\n          + \"scale(\" + (width / 2) + \")\";\n        }\n      );\n\n  d3.select( \"#button\" )\n  .on(\"click\", function() {\n    data = generateData();\n    arcs.data(pie(data[1])).transition().attr(\"d\", arc);\n    needle.data(data[0])\n          .transition().ease(d3.easeElasticOut).duration(2000)\n          .attr( \"transform\", function(d) {\n            r = 180 * d / data[1][3] - 90;\n            return \"translate(\" + width / 2 + \",\" + (height - margin.bottom) + \") \"\n              + \"rotate(\" + r + \")\"\n              + \"scale(\" + (height / 2) + \")\";\n          });\n   });\n\n};\n\nexport const displayRating = () => {\n  CreateGauge(\"#rating\");\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/rating.js"],"sourceRoot":""}