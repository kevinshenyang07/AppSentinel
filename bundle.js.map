{"version":3,"sources":["webpack:///webpack/bootstrap d662aa6f973678e7de00","webpack:///./lib/main.js","webpack:///./lib/ticking_numbers.js","webpack:///./lib/active_users.js","webpack:///./lib/channels.js","webpack:///./lib/geo.js","webpack:///./lib/reviews.js","webpack:///./lib/rating.js"],"names":["formatDollar","d3","format","formatNumber","monthlyRevenue","monthlyDownloads","document","getElementById","innerHTML","tick","initVal","Math","random","displayTickingNumbers","interval","setInterval","$","on","clearInterval","generateActiveUserNumbers","base","time","floor","generate","data","id","categories","axisNum","parseTime","timeParse","margin","top","right","bottom","left","width","height","ddata","map","ele","i","selected","find","text","option","x","scaleTime","range","domain","extent","d","yMax","max","yMin","min","y","scaleLinear","xAxis","axisBottom","ticks","timeMinute","every","length","tickSize","tickPadding","yAxis","axisLeft","tickFormat","area","curve","curveCardinal","y0","y1","selectAll","remove","svg","select","append","attr","call","path","datum","points","enter","legendSize","legendColor","legend","style","transition","duration","tooltip","axisOpt","svgAttr","change","redraw","ease","easeSin","exit","displayActiveUsers","minutes","activeUserData","m","hAxis","mAxis","sca","push","Object","keys","shift","channelData","channel","platform","iOS","Android","Desktop","createView","dimension","pieChart","histogram","pieDim","radius","colors","bar","forEach","total","createPieChart","pData","pC","arc","outerRadius","innerRadius","pie","sort","value","each","_current","type","mouseover","mouseout","update","nD","attrTween","arcTween","c","a","interpolateObject","t","createHistogram","byChannelData","hG","histDim","scaleBand","rangeRound","padding","bars","bandwidth","singleChannelData","filter","s","totalByPlatform","color","newBars","createLegend","lData","leg","getLegend","aD","sum","tr","rows","p","totalByChannel","displayChannels","usersByState","state","paid","createHBars","b","parseInt","tickSizeInner","event","pageX","pageY","html","displayGeoDist","sampleReviews","user","body","createReviews","ready","pEle","updateReviews","reviews","content","displayReviews","generateData","ratings","day","week","month","newarcsdata","newneedledata","period","CreateGauge","r","reverse","angleScale","startAngle","PI","endAngle","arcs","labels","centroid","needle","classed","join","handleClick","buttonId","split","easeElasticOut","displayRating"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d662aa6f973678e7de00","import { displayTickingNumbers } from './ticking_numbers.js';\nimport { displayActiveUsers } from './active_users.js';\nimport { displayChannels } from './channels.js';\nimport { displayGeoDist } from './geo.js';\nimport { displayReviews } from './reviews.js';\nimport { displayRating } from './rating.js';\n\ndisplayTickingNumbers();\ndisplayActiveUsers();\ndisplayChannels();\ndisplayGeoDist();\ndisplayReviews();\ndisplayRating();\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js","const formatDollar = d3.format(\"$,.02f\");\nconst formatNumber = d3.format(\",.0f\");\n\nlet monthlyRevenue = 1000000;\nlet monthlyDownloads = 60000;\ndocument.getElementById('monthly-revenue').innerHTML\n  = formatDollar(monthlyRevenue);\ndocument.getElementById('monthly-downloads').innerHTML\n  = formatNumber(monthlyDownloads);\n\nconst tick = (initVal) => {\n  return initVal + Math.random() * (initVal / 1000);\n};\n\nexport const displayTickingNumbers = () => {\n  const interval = setInterval(function() {\n    monthlyRevenue = tick(monthlyRevenue, 'monthly-revenue');\n    document.getElementById('monthly-revenue').innerHTML\n      = formatDollar(monthlyRevenue);\n    monthlyDownloads = tick(monthlyDownloads, 'monthly-downloads');\n    document.getElementById('monthly-downloads').innerHTML\n      = formatNumber(monthlyDownloads);\n  }, 1500);\n\n  $(\"monthly-revenue\").on(\"remove\", () => clearInterval(interval));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ticking_numbers.js","const generateActiveUserNumbers = time => {\n  const base = 50000;\n  return {\n    'time': time,\n    'DAU': Math.floor(base * (1 + (Math.random() - 0.5) * 0.25)),\n    'WAU': Math.floor(base * 1.2 * (1 + (Math.random() - 0.5) * 0.25)),\n    'MAU': Math.floor(base * 1.5 * (1 + (Math.random() - 0.5) * 0.25)),\n  };\n};\n\nconst generate = (data, id, categories, axisNum) => {\n\n  // get data prepared\n  const parseTime = d3.timeParse(\"%H:%M\");\n  const formatNumber = d3.format(\".3s\");\n\n  // calculate chart size based on window size\n  const margin = { top: 20, right: 20, bottom: 40, left: 30 };\n  const width = $(id).width() - margin.left - margin.right;\n  const height = $(id).height() - margin.top - margin.bottom;\n\n  // map time str to time object\n  const ddata = data.map((ele, i) => ({\n    'time': parseTime(ele['time']),\n    'DAU': ele['DAU'],\n    'WAU': ele['WAU'],\n    'MAU': ele['MAU']\n  }));\n\n  const selected = $(\".active-user-select\").find(\":selected\").text();\n  const option = categories[selected];\n\n  // set the range and scale the range to data\n  const x = d3.scaleTime().range([0, width])\n              .domain(d3.extent(ddata, d => d.time));\n                      // extent returns [min, max]\n  // set y axis to be stable, which make it possible to display\n  // all three series together\n  const yMax = d3.max(ddata, d => d[\"MAU\"]) * 1.1;\n  const yMin = d3.min(ddata, d => d[\"DAU\"]) * 0.9;\n  const y = d3.scaleLinear().range([height, 0])\n              .domain([yMin, yMax]);\n\n  // defined axes\n  const xAxis = d3.axisBottom(x)\n      .ticks(d3.timeMinute.every(Math.floor(data.length / axisNum)))\n      .tickSize(-height)\n      .tickPadding([6]);\n\n  const yAxis = d3.axisLeft(y)\n      .ticks(10)\n      .tickSize(-width)\n      .tickFormat(formatNumber);\n\n  // define the plotting\n  const area = d3.area()\n      .curve(d3.curveCardinal)\n      .x(d => x(d.time))\n      .y0(height)\n      .y1(d => y(d[option]));\n\n  // remove previous element\n  d3.selectAll('.active-users').remove();\n\n  // define svg\n  const svg = d3.select(id).append(\"svg\")\n      .attr(\"id\", \"svg-active-users\")\n      .attr(\"width\", width + margin.right + margin.left)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n  svg.append(\"g\")\n     .attr(\"class\", \"x axis\")\n     .attr(\"id\", \"active-users-x-axis\")\n     .attr(\"transform\", \"translate(0,\" + height + \")\")\n     .call(xAxis);\n\n  svg.append(\"g\")\n     .attr(\"class\", \"y axis\")\n     .call(yAxis);\n\n  const path = svg.append(\"svg:path\")\n      .datum(ddata)\n      .attr(\"class\", \"areaM\")\n      .attr(\"d\", area);\n\n  const points = svg.selectAll(\".gPoints\")\n      .data(ddata)\n      .enter().append(\"g\")\n      .attr(\"class\", \"gPoints\");\n\n  //legend rendering\n  const legendSize = 8;\n  const legendColor = 'rgba(0, 160, 233, 0.7)';\n\n  const legend = svg.append('g')\n      .attr('class', 'legend')\n      .attr('transform',\n        'translate(0,' + (height + margin.bottom - legendSize) +')'\n      );\n\n  legend.append('rect')\n      .attr('width', legendSize)\n      .attr('height', legendSize)\n      .attr('transform', 'translate(0, -5)')\n      .style('fill', legendColor);\n\n  legend.append('text')\n      .data(ddata)\n      .attr('x', legendSize * 1.2)\n      .attr('y', legendSize / 2)\n      .text(selected);\n\n  points.selectAll(\".usertipPoints\")\n      .data(ddata)\n      .enter().append(\"circle\")\n      .attr(\"class\", \"usertipPoints\")\n      .attr(\"cx\", d => x(d.time))\n      .attr(\"cy\", d => y(d[option]))\n      .attr(\"r\", \"6px\")\n      .on(\"mouseover\", function (d) {\n        d3.select(this).transition().duration(100).style(\"opacity\", 1);\n        svg.append(\"g\")\n            .attr(\"class\", \"tipDot\")\n            .append(\"line\")\n            .attr(\"class\", \"tipDot\")\n            .transition()\n            .duration(50)\n            .attr(\"x1\", x(d['time']))\n            .attr(\"x2\", x(d['time']))\n            .attr(\"y2\", height);\n\n        svg.append(\"polyline\")      // attach a polyline\n            .attr(\"class\", \"tipDot\")  // colour the line\n            .style(\"fill\", \"black\")     // remove any fill colour\n            .attr(\"points\", (x(d['time'])-3.5)+\",\"+(y(1)-2.5)+\",\"+x(d['time'])+\",\"+(y(1)+6)+\",\"+(x(d['time'])+3.5)+\",\"+(y(1)-2.5));\n\n        svg.append(\"polyline\")      // attach a polyline\n            .attr(\"class\", \"tipDot\")  // colour the line\n            .style(\"fill\", \"black\")     // remove any fill colour\n            .attr(\"points\", (x(d['time'])-3.5)+\",\"+(y(0)+2.5)+\",\"+x(d['time'])+\",\"+(y(0)-6)+\",\"+(x(d['time'])+3.5)+\",\"+(y(0)+2.5));\n\n        $(this).tooltip({\n          'container': 'body',\n          'placement': 'left',\n          'title': selected + \": \" + formatNumber(d[option]),\n          'trigger': 'hover'\n        }).tooltip('show');\n      })\n      .on(\"mouseout\",  function (d) {\n        d3.select(this).transition().duration(100).style(\"opacity\", 0);\n        d3.selectAll('.tipDot').transition().duration(100).remove();\n        $(this).tooltip('destroy');\n      });\n\n  const axisOpt = { x, y, xAxis, width, height };\n  const svgAttr = { svg, points, area, path, legend };\n\n  $(\".active-user-select\").change(() => {\n    redraw(data, id, categories, axisOpt, svgAttr, 8);\n  });\n\n  return { axisOpt, svgAttr };\n};\n\n\nconst redraw = (data, id, categories, axisOpt, svgAttr, axisNum) => {\n  // get options and attributes\n  const x = axisOpt[\"x\"];\n  const y = axisOpt[\"y\"];\n  const xAxis = axisOpt[\"xAxis\"];\n  const height = axisOpt[\"height\"];\n  const svg = svgAttr[\"svg\"];\n  const points = svgAttr[\"points\"];\n  const area = svgAttr[\"area\"];\n  const path = svgAttr[\"path\"];\n\n  //format of time data\n  var parseTime = d3.timeParse(\"%H:%M\");\n  var formatNumber = d3.format(\".0%\");\n\n  const ddata = data.map((ele, i) => ({\n    'time': parseTime(ele['time']),\n    'DAU': ele['DAU'],\n    'WAU': ele['WAU'],\n    'MAU': ele['MAU']\n  }));\n\n  const selected = $(\".active-user-select\").find(\":selected\").text();\n  const option = categories[selected];\n\n  x.domain(d3.extent(ddata, d => d.time));\n\n  xAxis.ticks(d3.timeMinute.every(Math.floor(data.length / axisNum)));\n\n  svg.select(\"#active-users-x-axis\")\n      .transition()\n      .duration(200)\n      .ease(d3.easeSin)\n      .call(xAxis);\n\n  // select ele with class legend then change legend text\n  svg.selectAll(\".legend text\").text(selected);\n\n  // update area\n  area.x(d => x(d.time))\n      .y0(height)\n      .y1(d => y(d[option]));\n\n  // update area line\n  path.datum(ddata)\n      .transition()\n      .duration(200)\n      .attr(\"class\", \"areaM\")\n      .attr(\"d\", area);\n\n  //circle updating\n  points.selectAll(\".usertipPoints\")\n      .data(ddata)\n      .attr(\"class\", \"usertipPoints\")\n      .attr(\"cx\", d => x(d.time))\n      .attr(\"cy\", d => y(d[option]))\n      .attr(\"r\", \"6px\");\n\n  //draw new dot\n  points.selectAll(\".usertipPoints\")\n      .data(ddata)\n      .enter().append(\"circle\")\n      .attr(\"class\", \"usertipPoints\")\n      .attr(\"cx\", d => x(d.time))\n      .attr(\"cy\", d => y(d[option]))\n      .attr(\"r\", \"6px\");\n\n  //remove old dot\n  points.selectAll(\".usertipPoints\")\n      .data(ddata)\n      .exit()\n      .transition()\n      .duration(200)\n      .remove();\n\n};\n\n//dynamic data and chart update\nexport const displayActiveUsers = () => {\n  const minutes = ['10:01', '10:02', '10:03', '10:04',\n    '10:05', '10:06', '10:07', '10:08', '10:09'];\n\n  const activeUserData = minutes.map(m => generateActiveUserNumbers(m));\n\n  const categories = {\n    'Daily Active Users': \"DAU\",\n    'Weekly Active Users': \"WAU\",\n    'Monthly Active Users': \"MAU\",\n  };\n\n  let hAxis = 10;\n  let mAxis = 10;\n\n  const id = \"#active-users\";\n\n  const sca = new generate(activeUserData, id, categories, 8);\n\n  const interval = setInterval(() => {\n    //update input data\n    activeUserData.push(generateActiveUserNumbers(hAxis + \":\" + mAxis));\n\n    // pseudo time update\n    if(mAxis === 59) {\n      hAxis++;\n      mAxis=0;\n    }\n    else {\n      mAxis++;\n    }\n\n    if (Object.keys(activeUserData).length === 12) activeUserData.shift();\n\n    redraw(\n      activeUserData, id, categories, sca.axisOpt, sca.svgAttr, 8\n    );\n  }, 2000);\n\n  $(\"#svg-active-users\").on(\"remove\", () => clearInterval(interval));\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/active_users.js","const channelData = [\n  { channel: 'Organic', platform: { iOS: 10500, Android: 15100, Desktop: 2300 } },\n  { channel: 'Google', platform: { iOS: 7900, Android: 6700, Desktop: 3100 } },\n  { channel: 'FB', platform: { iOS: 5700, Android: 6200, Desktop: 1100 } },\n  { channel: 'AdMob', platform: { iOS: 1400, Android: 4100, Desktop: 580 } },\n  { channel: 'Email', platform: { iOS: 450, Android: 810, Desktop: 1250 } },\n  { channel: 'Referral', platform: { iOS: 2500, Android: 700, Desktop: 240 } },\n];\n\nconst createView = (id, data) => {\n  // geometry\n  const margin = { top: 60, right: 0, bottom: 30, left: 0 };\n  const width = $(id).width() - margin.right - margin.left;\n  const height = $(id).height() - margin.top - margin.bottom;\n  const dimension = {\n    pieChart: {\n      width: height,\n      height,\n    },\n    histogram: {\n      width: 300,\n      height,\n    },\n  };\n  const pieDim = dimension.pieChart;\n  pieDim.radius = Math.min(pieDim.width, pieDim.height) / 2;\n  // aesthetic\n  const colors = { bar: 'grey', iOS: \"#e08214\", Android: \"#14e082\",\n    Desktop: \"#8214e0\" };\n  // calculate subtotals\n  data.forEach(d => { d.total = d.platform.iOS + d.platform.Android\n    + d.platform.Desktop; });\n\n  // function to generate pie chart\n  const createPieChart = (pData) => {\n    const pC = {};\n    const svg = d3.select('#channels-left').append(\"svg\")\n              .attr(\"width\", pieDim.width)\n              .attr(\"height\", pieDim.height)\n              .append(\"g\")\n              .attr(\"transform\", \"translate(\" + pieDim.width / 2 + \",\"\n                + pieDim.height / 2 + \")\");\n\n    const arc = d3.arc().outerRadius(pieDim.radius - 10).innerRadius(0);\n    const pie = d3.pie().sort(null).value(d => d.platform);\n\n    svg.selectAll(\"path\").data(pie(pData))\n       .enter().append(\"path\")\n       .attr(\"d\", arc)\n       .each(function(d) { this._current = d; })\n       .style(\"fill\", d => colors[d.data.type])\n       .on(\"mouseover\", mouseover)\n       .on(\"mouseout\", mouseout);\n\n    pC.update = nD => {\n      svg.selectAll(\"path\").data(pie(nD))\n         .transition().duration(500)\n         .attrTween(\"d\", arcTween);\n    };\n\n    function mouseover(d) {\n      // call the update function of histogram with new data.\n      const nD = data.map(c => [c.channel, c.platform[d.data.type]]);\n      histogram.update(nD, colors[d.data.type]);\n    }\n             //Utility function to be called on mouseout a pie slice.\n    function mouseout(d) {\n      // call the update function of histogram with all data.\n      histogram.update(data.map(c => [c.channel, c.total]), colors.bar);\n    }\n\n    function arcTween(a) {\n      const i = d3.interpolateObject(this._current, a);\n      this._current = i(0);\n      return t => arc(i(t));\n    }\n\n    return pC;\n  };\n\n\n  // function to generate histogram\n  const createHistogram = (byChannelData) => {\n    const hG = {};\n    const histDim = dimension.histogram;\n\n    const svg = d3.select('#channels-right').append(\"svg\")\n        .attr(\"width\", histDim.width + margin.left + margin.right)\n        .attr(\"height\", histDim.height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + (margin.top + 12) + \")\");\n\n    const x = d3.scaleBand()\n            .rangeRound([0, histDim.width]).padding(0.1)\n            .domain(byChannelData.map(d => d[0]));\n\n    const y = d3.scaleLinear()\n            .range([histDim.height, 0])\n            .domain([0, d3.max(byChannelData, d => d[1])]);\n\n    const xAxis = d3.axisBottom(x)\n\n    svg.append(\"g\").attr(\"class\", \"x axis\")\n       .attr(\"transform\", \"translate(0,\" + histDim.height + \")\")\n       .call(xAxis);\n\n    const bars = svg.selectAll(\".bar\")\n                    .data(byChannelData).enter()\n                    .append(\"g\")\n                    .attr(\"class\", \"bar\");\n\n    bars.append(\"rect\")\n        .attr(\"x\", d => x(d[0]))\n        .attr(\"y\", d => y(d[1]))\n        .attr(\"width\", x.bandwidth())\n        .attr(\"height\", d => histDim.height - y(d[1]))\n        .attr('fill', colors.bar)\n        .on(\"mouseover\", mouseover)\n        .on(\"mouseout\",mouseout);\n\n    function mouseover(d) {\n      const singleChannelData = data.filter(s => s.channel === d[0])[0];\n      const nD = d3.keys(singleChannelData.platform).map(\n        s => ({type:s, platform: singleChannelData.platform[s]})\n      );\n      // call update functions of pie-chart and legend.\n      pieChart.update(nD);\n      legend.update(nD);\n    };\n\n    function mouseout(d) {\n      // reset the pie-chart and legend.\n      pieChart.update(totalByPlatform);\n      legend.update(totalByPlatform);\n    };\n\n    bars.append(\"text\").text(d => d3.format(\",\")(d[1]))\n      .attr(\"x\", d => x(d[0]) + x.bandwidth() / 2)\n      .attr(\"y\", d => y(d[1]) - 5)\n      .attr(\"text-anchor\", \"middle\");\n\n    hG.update = (nD, color) => {\n      // update the domain of the y-axis map to reflect change in frequencies.\n      y.domain([0, d3.max(nD, d => d[1])]);\n\n      // Attach the new data to the bars.\n      const newBars = svg.selectAll(\".bar\").data(nD);\n\n      // transition the height and color of rectangles.\n      newBars.select(\"rect\").transition().duration(500)\n             .attr(\"y\", d => y(d[1]))\n             .attr(\"height\", d => histDim.height - y(d[1]))\n             .attr(\"fill\", color);\n\n      // transition the frequency labels location and change value.\n      newBars.select(\"text\").transition().duration(500)\n          .text(d => d3.format(\",\")(d[1]))\n          .attr(\"y\", d => y(d[1]) - 5);\n    };\n\n    return hG;\n  };\n\n\n  const createLegend = (lData) => {\n    const leg = {};\n    // compute percentage\n    const getLegend = (d, aD) => {\n      // console.log(d.platform / d3.sum(aD.map(c => c.platform)));\n      return d3.format(\".2%\")(d.platform / d3.sum(aD.map(c => c.platform)));\n    };\n\n    // create table for legend.\n    const legend = d3.select('#channels-left').append(\"table\").attr('class','legend');\n\n    // create one row per segment.\n    const tr = legend.append(\"tbody\").selectAll(\"tr\").data(lData).enter().append(\"tr\");\n\n    // create the first column for each segment.\n    tr.append(\"td\").append(\"svg\").attr(\"width\", '16').attr(\"height\", '16')\n      .append(\"rect\").attr(\"width\", '16').attr(\"height\", '16')\n      .attr(\"fill\", d => colors[d.type])\n      .attr('transform', 'translate(0, 6)');\n\n    // create the second column for each segment.\n    tr.append(\"td\").text(d => d.type);\n\n    // create the third column for each segment.\n    tr.append(\"td\").attr(\"class\",'legend-platform')\n        .text(d => d3.format(\",\")(d.platform));\n\n    // create the fourth column for each segment.\n    tr.append(\"td\").attr(\"class\",'legend-perc')\n        .text(d => getLegend(d, lData));\n\n    // Utility function to be used to update the legend.\n    leg.update = (nD) => {\n      // update the data attached to the row elements.\n      const rows = legend.select(\"tbody\").selectAll(\"tr\").data(nD);\n\n      // update the frequencies.\n      rows.select(\".legend-platform\").text(d => d3.format(\",\")(d.platform));\n\n      // update the percentage column.\n      rows.select(\".legend-perc\").text(d => getLegend(d, nD));\n    }\n\n    return leg;\n  };\n\n  const totalByPlatform = [\"iOS\", \"Android\", \"Desktop\"].map(p => (\n    {type: p, platform: d3.sum(data.map(t => t.platform[p]))}\n  ));\n\n  const totalByChannel = data.map(d => [d.channel, d.total]);\n\n  const legend = createLegend(totalByPlatform);\n  const pieChart = createPieChart(totalByPlatform);\n  const histogram = createHistogram(totalByChannel);\n\n};\n\nexport const displayChannels = () => {\n  createView(\"#channels\", channelData);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/channels.js","const usersByState = [\n  { state: 'CA', total: 962000, paid: 192400 },\n  { state: 'NY', total: 827400, paid: 251700 },\n  { state: 'TX', total: 535000, paid: 230400 },\n  { state: 'PA', total: 327600, paid: 126700 },\n  { state: 'MA', total: 210000, paid: 153400 },\n];\n\nconst createHBars = (id, data) => {\n  data.sort(function(a, b) { return a.total - b.total; });\n\n  const margin = {top: 20, right: 20, bottom: 30, left: 40};\n  const width = $(id).width() - margin.left - margin.right;\n  const height = $(id).height() - margin.top - margin.bottom;\n\n  const x = d3.scaleLinear().range([0, width])\n              .domain([0, d3.max(data, d => d.total)]);\n  const y = d3.scaleBand().range([height, 0])\n              .domain(data.map(d => d.state)).padding(0.2);\n\n  const xAxis = d3.axisBottom(x).ticks(5)\n              .tickFormat(d => parseInt(d / 1000))\n              .tickSizeInner([-height]);\n\n  const yAxis = d3.axisLeft(y);\n\n  const tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"toolTip\");\n\n  const svg = d3.select(id).append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\"\n              + margin.left + \",\" + margin.top + \")\"\n            );\n\n  svg.append(\"g\")\n     .attr('class', \"x axis\")\n     .attr('transform', \"translate(0,\" + height + \")\")\n     .call(xAxis);\n\n  svg.append(\"g\")\n     .attr('class', 'y axis')\n     .call(yAxis);\n\n  svg.selectAll('.bar').data(data)\n     .enter().append('rect')\n     .attr('class', 'bar')\n     .attr('x', 0)\n     .attr(\"y\", d => y(d.state))\n     .attr(\"width\", d => x(d.total))\n     .attr(\"height\", y.bandwidth())\n     .on(\"mousemove\", function(d) {\n         const total = d3.format(',')(d.total)\n         tooltip\n           .style(\"left\", d3.event.pageX - 50 + \"px\")\n           .style(\"top\", d3.event.pageY - 70 + \"px\")\n           .style(\"display\", \"inline-block\")\n           .html(`Number of users in ${d.state}: ${total}`);\n     })\n     .on(\"mouseout\", () => tooltip.style(\"display\", \"none\"));\n\n};\n\nexport const displayGeoDist = () => {\n  createHBars(\"#geo\", usersByState);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/geo.js","const sampleReviews = [\n  {user: 'Andrew M.', body: \"The text <b class='attention-high'>broke</b> out of the box, is it because I use bigger <b class='attention-low'>font</b> size?\"},\n  {user: 'Elliot H.', body: \"The <b class='attention-medium'>hamburger menu</b> does not respond to me, can't change my name!!\"},\n  {user: 'Jules C.', body: \"The app <b class='attention-high'>crashed</b> after I clicked the <b class='attention-low'>sumbit</b> button, what happened?\"},\n  {user: 'Munyo F.', body: \"I like it but it's kinda <b class='attention-medium'>slow</b> when I don't have WIFI.\"},\n  {user: 'Aaron W.', body: \"The <b class='attention-low'>start</b> button should be on the bottom of the screen.\"},\n  {user: 'Chuck N.', body: \"The animation is fancy, but I don't want to <b class='attention-medium'>wait</b> for it :P\"},\n  {user: 'Louis C.', body: \"There seems to be a <b class='attention-medium'>hiccup</b> when I was tapping on the <b class='attention-low'>carousel</b>.\"},\n];\n\nconst createReviews = reviews => {\n  $(document).ready(() => {\n    for (let i = 0; i < 5; i++) {\n      const pEle = `<p id=\"review-${i}\"></p><hr>`;\n      $(\"#reviews-container\").append(pEle);\n    }\n    updateReviews(sampleReviews);\n  });\n};\n\nconst updateReviews = reviews => {\n  reviews.push(reviews.shift());\n  for (let i = 0; i < 5; i++) {\n    const content = `${reviews[i].user}: \"${reviews[i].body}\"`;\n    document.getElementById(`review-${i}`).innerHTML = content;\n  }\n};\n\nexport const displayReviews = () => {\n  createReviews(sampleReviews);\n  const interval = setInterval(() => updateReviews(sampleReviews), 3000);\n  $(\"#reviews-container\").on(\"remove\", () => clearInterval(interval));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reviews.js","const generateData = period => {\n  const ratings = { day: 0.18, week: 0.13, month: 0.15 };\n  const newarcsdata = [0.2, 0.2, 0.2, 0.2, 0.2];\n  const newneedledata = [ratings[period]];\n  return [newneedledata, newarcsdata];\n};\n\nconst CreateGauge = (id) => {\n  // geometry\n  const margin = { top: 20, right: 10, bottom: 25, left: 10 };\n  const width = $(id).width();\n  const height = $(id).height();\n  let r = (width) / 2;\n  // aesthetic\n  const colors = [\"#91cf60\", \"#d9ef8b\", \"#fee08b\", \"#fc8d59\", \"#d73027\"].reverse();\n  const angleScale = d3.scaleLinear().domain([0, 5]).range([-90, 90]);\n\n  const svg = d3.select(id).append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n\n  const arc = d3.arc().innerRadius(r * 4.5 / 8).outerRadius(r * 0.9);\n  // const outerArc = d3.arc().innerRadius(r * 5.5 / 8).outerRadius(r * 1.1);\n  const pie = d3.pie().startAngle( -Math.PI / 2 ).endAngle( Math.PI / 2 )\n                .sort(null).value(d => d);\n\n  let data = generateData('day');\n  const arcs = svg.selectAll('g.slice').data(pie(data[1]))\n                  .enter().append(\"svg:g\").attr('class', 'slice');\n\n  arcs.append('svg:path').attr(\"d\", arc)\n      .attr(\"width\", width).attr(\"height\", height)\n      .attr(\"transform\", \"translate(\" + (r - margin.left) + \",\" + (height - margin.bottom) + \")\")\n      .style(\"fill\", (d, i) => colors[i]);\n\n  const labels = ['0+', '1+', '2+', '3+', '4+'];\n  arcs.append(\"svg:text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"transform\", function(d) {\n        const x = arc.centroid(d)[0] + r - margin.left;\n        const y = arc.centroid(d)[1] + height - margin.bottom;\n        return \"translate(\" + [x, y] + \")\";\n      })\n      .style(\"fill\", \"black\")\n      .text((d, i) => labels[i]);\n\n\n  const needle = svg.selectAll(\".needle\").data(data[0])\n      .enter().append('path').classed('needle', true)\n      .attr('d', ['M0 -1', 'L0.03 0', 'A 0.03 0.03 0 0 1 -0.03 0', 'Z'].join(' '))\n      .attr( \"transform\", function(d) {\n        r = 180 * d / data[1][3] - 90;\n        return \"translate(\" + width / 2 + \",\" + (height - margin.bottom) + \") \"\n          + \"rotate(\" + r + \") \"\n          + \"scale(\" + (width * 0.85 / 2) + \")\";\n        }\n      );\n\n  handleClick('button-day');\n  handleClick('button-week');\n  handleClick('button-month');\n\n  function handleClick(buttonId) {\n    const period = buttonId.split(\"-\")[1];\n    d3.select(\"#\" + buttonId)\n    .on(\"click\", function() {\n      data = generateData(period);\n      arcs.data(pie(data[1])).transition().attr(\"d\", arc);\n      needle.data(data[0])\n            .transition().ease(d3.easeElasticOut).duration(2000)\n            .attr( \"transform\", function(d) {\n              r = 180 * d / data[1][3] - 90;\n              return \"translate(\" + width / 2 + \",\" + (height - margin.bottom) + \") \"\n                + \"rotate(\" + r + \")\"\n                + \"scale(\" + (width * 0.85 / 2) + \")\";\n            });\n    });\n  }\n};\n\nexport const displayRating = () => {\n  CreateGauge(\"#rating\");\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/rating.js"],"sourceRoot":""}